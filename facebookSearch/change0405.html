<!DOCTYPE html>
<html lang="en" ng-app="myApp">
    <header>
        <title>XINYUE LIU - HW8 </title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width,shrink-to-fit=no,initial-scale=1">
        
        <!-- Latest Font Awesome -->
        <script src="https://use.fontawesome.com/2f3d243b10.js"></script>
        
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="hw8.css">
        
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-animate.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-sanitize.js"></script>
        <script src="https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.2.0.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui/0.4.0/angular-ui.js"></script>
        <script src="hw8.js"></script>

        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <!-- Latest compiled JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
        <!-- dirPagination -->
        <script src="dirPagination.js"></script>
        <!-- moment.js -->
        <script src="moment.min.js"></script> 
        
    </header>
    
    <body>  
        <script>
	           window.fbAsyncInit = function() {
	               FB.init({
	                           appId      : '443485932666373',
                               xfbml      : true,
                               version    : 'v2.8'
	                       });
                   FB.AppEvents.logPageView();
	           };

	           (function(d, s, id){
	               var js, fjs = d.getElementsByTagName(s)[0];
                   if (d.getElementById(id)) {return;}
                   js = d.createElement(s); js.id = id;
                   js.src = "https://connect.facebook.net/en_US/sdk.js";
                   fjs.parentNode.insertBefore(js, fjs);
               }(document, 'script', 'facebook-jssdk'));
	   </script>
        <div class="container-fluid" style="background-color: #eee" ng-controller="searchCtl">
            <form method="get" id="id_form">
                <table>
                    <tr style="width:100%">
                        <td style="width:38%"><a class="navbar-brand" href="#"><p class="text-left" style="color: #3c5b97">FB Search</p></a></td>
                        <td style="width:50%">
                            <input id='inputArea' type="text" class="form-control" style="width: 100%; border-radius: 0;"placeholder="type something..." ng-model="keyword" required>
                        </td>
                        <td style="width:6%">
                            <button type="submit" id="search" class="btn btn-default" style="width: 100%; border-radius: 0; background-color: #3c5b97" ng-click="searchGo()" onclick=""><i value='' class="glyphicon glyphicon-search" style="color: white"></i></button>
                        </td>
                        <td>
                            <div id="clearButton" class="btn btn-default" style="border-color: #3c5b97;border-radius: 0;">Clear</div>
                        </td>
                    </tr>
                </table>
            </form>
        </div>
      
        <div id="wrap">
            <div>
                <nav class="nav">
                    <ul id="navBar" class="nav nav-justified">
                        <li id="user-nav" class="active">User</li>
                        <li id="page-nav">Pages</li>
                        <li id="event-nav">Events</li>
                        <li id="place-nav">Places</li>
                        <li id="group-nav">Groups</li>
                        <li id="fav-nav">Favorites</li>
                    </ul>
                </nav>
            </div>
            <div style="height: 2px; background-color: #3c5b97"></div>
            <div id="myProgress" class="progress" style="display: none;">
                <div id="myBar" class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                </div>
            </div>
            <!-- Page Content -->
            <div id="page-content-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        
                        <div class="col-lg-12 page-content" id="user-page" ng-controller="userCtl" style="display:none">
                                <div id="myCarousel1" class="carousel slide">
                                <!-- Wrapper for slide-->
                                    <div class="carousel-inner" data-interval='false' role="listbox">            
                                        <div class="item active" style="height:100%; width:100%">
                                                <div class="panel-body">
                                                    <table class="table table-hover" >
                                                        <thead>
                                                            <tr>
                                                                <th>#</th>
                                                                <th>Profile photo</th>
                                                                <th>Name</th>
                                                                <th>Favorite</th>
                                                                <th>Detail</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr dir-paginate='x in show | orderBy:sortType:sortReverse|filter: q| itemsPerPage: 25' current-page="currentPage1" pagination-id="user">
                                                                <td>{{x.item}}</td>
                                                                <td><img class="img-circle" ng-attr-src="{{x.profile_photo}}" height="40px" width="40px"></td>
                                                                <td> {{x.user_name}}</td>
                                                                <td>
                                                                    <button class="btn btn-default" ng-click="fav(x.item)">
                                                                            <span class="glyphicon glyphicon-star-empty" "glyphicon glyphicon-star-empty" ng-style="{'color':'black','font-size': '15px','display':dis1[{{x.item}}]}"></span>
                                                                            <span class="glyphicon glyphicon-star" "glyphicon glyphicon-star-empty" ng-style="{'color':'yellow','font-size': '15px','display':dis2[{{x.item}}]}"></span>
                                                                    </button>
                                                                    </td>
                                                                    <td style="text:align-center">
                                                                    <button class="btn btn-default" ng-click="ViewPerson(x.item)" style="position:relative;"><i class="fa fa-angle-right" aria-hidden="true"></i></button>
                                                                    </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                            
                                                   <div style="text-align:center;" style="width:100%;overflow:auto;">
                                                   <dir-pagination-controls direction-links="true" boundary-links="true" pagination-id="user">
                                                    </dir-pagination-controls>
                                                   </div>
                                                            <!-- paging control -->
                                               </div>              
                                        </div>
                                        <!-- first carousel's item-->
                                                        
                                        <div class="item" style="height:100%; width:100%">
                                            
                                                <div class="panel-heading" style="width:100%;display:inline-block;background-color:#fff; border:none">
                                                    <div style="float:left;">
                                                        <button class="btn btn-default" ng-click="back()" style="position:relative;"><i class="fa fa-angle-left" aria-hidden="true">&nbsp;Back</i></button> 
                                                    </div>
                                                    <button id="shareBtn" class="btn btn-default" style="position:relative;float:right;margin-left:3%" ng-click="postFB()"><img src="facebook.png" style="height:15px; width:15px">
                                                    </button>
                                                    <button class="btn btn-default" style="position:relative;float:right;" ng-click="fav2()">
                                                           <span ng-show="emptyStar" class="glyphicon glyphicon-star-empty" ng-style="{'color':'black','font-size': '15px'}"></span>
                                                            <span ng-show="solidStar" class="glyphicon glyphicon-star" ng-style="{'color':'yellow','font-size': '15px'}"></span>
                                                    </button>
                                                </div>
                                                                
                                                 <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" id="profile-left">
                                                                <div class="panel panel-default" ng-show="progress2">
                                                                    <table class="table" >
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="progress" style="width:60%; margin-left:20%; margin-top:5%; margin-buttom:20%" >
                                                                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                                                                                            </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>  
                                                                </div>
                                                                <div ng-show="tableView" class="panel panel-default">
                                                                    <table class="table">
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="panel panel-default" ng-show="visible3">
                                                                                        <table class="table">
                                                                                            <tbody dir-paginate='x in show | orderBy:sortType:sortReverse|filter: q| itemsPerPage: 5' current-page="currentPage1" pagination-id="leg1" style="margin-top:5px">
                                                                                                <tr>
                                                                                                    <th class="align-top" ng-click="showRow(x.i)"><a href='javascript:{}' > {{x.album_name}}</a></th>
                                                                                                </tr>
                                                                                                <tr ng-show="visible4{{x.i}}">
                                                                                                <td>
                                                                                                    <img ng-attr-src="{{x.picture_url1}}">
                                                                                                </td>
                                                                                                </tr>
                                                                                                <tr ng-show="visible5{{x.i}}">
                                                                                                <td>
                                                                                                    <img src="{{x.picture_url2}}" width='50%' height='50%'>
                                                                                                </td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                            
                                                                                        </table>
                                                                                    </div>
                                                                                    <div ng-show="visible1" class="panel panel-default noData" style="background: #fdf9e9;color: #735027;margin-top: 5%;margin-bottom: 5%;padding-top: 4%;padding-bottom: 4%;border-color: #f6debe; border-width: 1px;">
                                                                                        &nbsp;No data found.
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>
                                                                </div>
                                                        </div>
                                                        <!-- profile left side  -->
                                                        
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" id="profile-right">
                                                            <div ng-show="progress2" class="panel panel-default">
                                                                    <table class="table" >
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="progress" style="width:60%; margin-left:20%; margin-top:5%; margin-buttom:20%" >
                                                                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                                                                                            </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>  
                                                            </div>
                                                            <div ng-show="tableView">
                                                                <div class="panel panel-default" ng-show="visible2">
                                                                <table class="table">
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Posts</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="panel panel-default noData" style="background: #fdf9e9;color: #735027;margin-top: 5%;margin-bottom: 5%;padding-top: 4%;padding-bottom: 4%;border-color: #f6debe; border-width: 1px;">
                                                                                        &nbsp;No data found.
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                            </table>
                                                            </div>
                                                                <div class="panel panel-default" ng-show="vm">
                                                                <div style="background: #f7f7f7;height:36px;padding-top:10px"><B>&nbsp;Posts</B></div>
                                                                <div ng-show="vm1" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t1" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m1"></p>
                                                                </div>
                                                                <div ng-show="vm2" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t2" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m2"></p>
                                                                </div>
                                                                <div ng-show="vm3" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t3" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m3"></p>
                                                                </div>
                                                                <div ng-show="vm4" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t4" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m4"></p>
                                                                </div>
                                                                <div ng-show="vm5" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t5" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m5"></p>
                                                                </div>
                                                                
                                                            </div>  
                                                            </div>
                                                     </div>
                                                            <!--table-->
                                                        </div>
                                                        <!-- profile right side  -->
                                                    
                                                     </div>
                                                     <!-- outside row -->
                                                
                                                <!--panel body-->
                                            </div>
                                            <!-- inside panel -->
                                        </div>
                                        <!-- second item carousel-->           
                                    </div>
                                    <!-- Wrapper for slide-->   
                        </div>
                        <!-- user-content -->
                        
                        <div class="col-lg-12 page-content" id="page-page" ng-controller="pageCtl" style="display:none">
                                <div id="myCarousel2" class="carousel slide">
                                <!-- Wrapper for slide-->
                                    <div class="carousel-inner" data-interval='false' role="listbox">            
                                        <div class="item active" style="height:100%; width:100%">
                                                <div class="panel-body">
                                                    <table class="table table-hover" >
                                                        <thead>
                                                            <tr>
                                                                <th>#</th>
                                                                <th>Profile photo</th>
                                                                <th>Name</th>
                                                                <th>Favorite</th>
                                                                <th>Detail</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr dir-paginate='x in show | orderBy:sortType:sortReverse|filter: q| itemsPerPage: 25' current-page="currentPage1" pagination-id="page">
                                                                <td>{{x.item}}</td>
                                                                <td><img class="img-circle" ng-attr-src="{{x.profile_photo}}" height="40px" width="40px"></td>
                                                                <td> {{x.user_name}}</td>
                                                                <td>
                                                                    <button class="btn btn-default" ng-click="fav(x.item)">
                                                                            <span class="glyphicon glyphicon-star-empty" ng-style="{'color':'black','font-size': '15px','display':dis1[x.item]}"></span>
                                                                            <span class="glyphicon glyphicon-star" ng-style="{'color':'yellow','font-size': '15px','display':dis2[x.item]}"></span>
                                                                    </button>
                                                                </td>
                                                                <td style="text:align-center">
                                                                    <button class="btn btn-default" ng-click="ViewPerson(x.item)" style="position:relative;"><i class="fa fa-angle-right" aria-hidden="true"></i></button>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                            
                                                   <div style="text-align:center;" style="width:100%;overflow:auto;">
                                                   <dir-pagination-controls direction-links="true" boundary-links="true" pagination-id="page"></dir-pagination-controls>
                                                   </div>
                                                            <!-- paging control -->
                                               </div>              
                                        </div>
                                        <!-- first carousel's item-->
                                                        
                                        <div class="item" style="height:100%; width:100%">
                                            
                                                <div class="panel-heading" style="width:100%;display:inline-block;background-color:#fff; border:none">
                                                    <div style="float:left;">
                                                        <button class="btn btn-default" ng-click="back()" style="position:relative;"><i class="fa fa-angle-left" aria-hidden="true">&nbsp;Back</i></button> 
                                                    </div>
                                                    <button id="shareBtn" class="btn btn-default" style="position:relative;float:right;margin-left:3%" ng-click="postFB()"><img src="facebook.png" style="height:15px; width:15px">
                                                    </button>
                                                    <button class="btn btn-default" style="position:relative;float:right;" ng-click="fav2()">
                                                           <span ng-show="emptyStar" class="glyphicon glyphicon-star-empty" ng-style="{'color':'black','font-size': '15px'}"></span>
                                                            <span ng-show="solidStar" class="glyphicon glyphicon-star" ng-style="{'color':'yellow','font-size': '15px'}"></span>
                                                    </button>
                                                </div>
                                                                
                                                 <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" id="profile-left">
                                                                <div class="panel panel-default" ng-show="progress2">
                                                                    <table class="table" >
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="progress" style="width:60%; margin-left:20%; margin-top:5%; margin-buttom:20%" >
                                                                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                                                                                            </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>  
                                                                </div>
                                                                <div ng-show="tableView" class="panel panel-default">
                                                                    <table class="table">
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="panel panel-default" ng-show="visible3">
                                                                                        <table class="table">
                                                                                            <tbody dir-paginate='x in show | orderBy:sortType:sortReverse|filter: q| itemsPerPage: 5' current-page="currentPage1" pagination-id="leg1" style="margin-top:5px">
                                                                                                <tr>
                                                                                                    <th class="align-top" ng-click="showRow(x.i)"><a href='javascript:{}' > {{x.album_name}}</a></th>
                                                                                                </tr>
                                                                                                <tr ng-show="visible4{{x.i}}">
                                                                                                <td>
                                                                                                    <img ng-attr-src="{{x.picture_url1}}">
                                                                                                </td>
                                                                                                </tr>
                                                                                                <tr ng-show="visible5{{x.i}}">
                                                                                                <td>
                                                                                                    <img src="{{x.picture_url2}}" width='50%' height='50%'>
                                                                                                </td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                            
                                                                                        </table>
                                                                                    </div>
                                                                                    <div ng-show="visible1" class="panel panel-default noData" style="background: #fdf9e9;color: #735027;margin-top: 5%;margin-bottom: 5%;padding-top: 4%;padding-bottom: 4%;border-color: #f6debe; border-width: 1px;">
                                                                                        &nbsp;No data found.
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>
                                                                </div>
                                                        </div>
                                                        <!-- profile left side  -->
                                                        
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" id="profile-right">
                                                            <div ng-show="progress2" class="panel panel-default">
                                                                    <table class="table" >
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="progress" style="width:60%; margin-left:20%; margin-top:5%; margin-buttom:20%" >
                                                                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                                                                                            </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>  
                                                            </div>
                                                            <div ng-show="tableView">
                                                                <div class="panel panel-default" ng-show="visible2">
                                                                <table class="table">
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Posts</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="panel panel-default noData" style="background: #fdf9e9;color: #735027;margin-top: 5%;margin-bottom: 5%;padding-top: 4%;padding-bottom: 4%;border-color: #f6debe; border-width: 1px;">
                                                                                        &nbsp;No data found.
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                            </table>
                                                            </div>
                                                                <div class="panel panel-default" ng-show="vm">
                                                                <div style="background: #f7f7f7;height:36px;padding-top:10px"><B>&nbsp;Posts</B></div>
                                                                <div ng-show="vm1" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t1" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m1"></p>
                                                                </div>
                                                                <div ng-show="vm2" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t2" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m2"></p>
                                                                </div>
                                                                <div ng-show="vm3" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t3" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m3"></p>
                                                                </div>
                                                                <div ng-show="vm4" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t4" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m4"></p>
                                                                </div>
                                                                <div ng-show="vm5" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t5" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m5"></p>
                                                                </div>
                                                                
                                                            </div>  
                                                            </div>      
                                                     </div>
                                                <!-- profile right side  -->
                                                     </div>
                                                </div>
                                                <!--panel body-->
                                            </div>
                                            <!-- inside panel -->
                                        </div>
                                        <!-- second item carousel-->           
                                    </div>
                            <!-- whole-panel-content -->
                        </div>
                        <!-- page content-->
                        
                        <div class="col-lg-12 page-content" id="event-page" ng-controller="eventCtl" style="display:none">
                                <div id="myCarousel3" class="carousel slide">
                                <!-- Wrapper for slide-->
                                    <div class="carousel-inner" data-interval='false' role="listbox">            
                                        <div class="item active" style="height:100%; width:100%">
                                                <div class="panel-body">
                                                    <table class="table table-hover" >
                                                        <thead>
                                                            <tr>
                                                                <th>#</th>
                                                                <th>Profile photo</th>
                                                                <th>Name</th>
                                                                <th>Favorite</th>
                                                                <th>Detail</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr dir-paginate='x in show | orderBy:sortType:sortReverse|filter: q| itemsPerPage: 25' current-page="currentPage1" pagination-id="event">
                                                                <td>{{x.item}}</td>
                                                                <td><img ng-attr-src="{{x.profile_photo}}" height="40px" width="40px"></td>
                                                                <td> {{x.user_name}}</td>
                                                                <td>
                                                                    <button class="btn btn-default" ng-click="fav(x.item)">
                                                                            <span class="glyphicon glyphicon-star-empty" ng-style="{'color':'black','font-size': '15px','display':dis1[x.item]}"></span>
                                                                            <span class="glyphicon glyphicon-star" ng-style="{'color':'yellow','font-size': '15px','display':dis2[x.item]}"></span>
                                                                    </button>
                                                                    </td>
                                                                    <td style="text:align-center">
                                                                    <button class="btn btn-default" ng-click="ViewPerson(x.item)" style="position:relative;"><i class="fa fa-angle-right" aria-hidden="true"></i></button>
                                                                    </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                            
                                                   <div style="text-align:center;" style="width:100%;overflow:auto;">
                                                   <dir-pagination-controls direction-links="true" boundary-links="true" pagination-id="event"></dir-pagination-controls>
                                                   </div>
                                                            <!-- paging control -->
                                               </div>              
                                        </div>
                                        <!-- first carousel's item-->
                                                        
                                        <div class="item" style="height:100%; width:100%">
                                            
                                                <div class="panel-heading" style="width:100%;display:inline-block;background-color:#fff; border:none">
                                                    <div style="float:left;">
                                                        <button class="btn btn-default" ng-click="back()" style="position:relative;"><i class="fa fa-angle-left" aria-hidden="true">&nbsp;Back</i></button> 
                                                    </div>
                                                    <button id="shareBtn" class="btn btn-default" style="position:relative;float:right;margin-left:3%" ng-click="postFB()"><img src="facebook.png" style="height:15px; width:15px">
                                                    </button>
                                                    <button class="btn btn-default" style="position:relative;float:right;" ng-click="fav2()">
                                                           <span ng-show="emptyStar" class="glyphicon glyphicon-star-empty" ng-style="{'color':'black','font-size': '15px'}"></span>
                                                            <span ng-show="solidStar" class="glyphicon glyphicon-star" ng-style="{'color':'yellow','font-size': '15px'}"></span>
                                                    </button>
                                                </div>
                                                                
                                                 <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" id="profile-left">
                                                            <div class="panel panel-default" ng-show="progress2">
                                                                    <table class="table" >
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="progress" style="width:60%; margin-left:20%; margin-top:5%; margin-buttom:20%" >
                                                                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                                                                                            </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>  
                                                                </div>
                                                                <div ng-show="tableView" class="panel panel-default">
                                                                    <table class="table">
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="panel panel-default" ng-show="visible3">
                                                                                        <table class="table">
                                                                                            <tbody dir-paginate='x in show | orderBy:sortType:sortReverse|filter: q| itemsPerPage: 5' current-page="currentPage1" pagination-id="leg1" style="margin-top:5px">
                                                                                                <tr>
                                                                                                    <th class="align-top" ng-click="showRow(x.i)"><a href='javascript:{}' > {{x.album_name}}</a></th>
                                                                                                </tr>
                                                                                                <tr ng-show="visible4{{x.i}}">
                                                                                                <td>
                                                                                                    <img ng-attr-src="{{x.picture_url1}}">
                                                                                                </td>
                                                                                                </tr>
                                                                                                <tr ng-show="visible5{{x.i}}">
                                                                                                <td>
                                                                                                    <img src="{{x.picture_url2}}" width='50%' height='50%'>
                                                                                                </td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                            
                                                                                        </table>
                                                                                    </div>
                                                                                    <div ng-show="visible1" class="panel panel-default noData" style="background: #fdf9e9;color: #735027;margin-top: 5%;margin-bottom: 5%;padding-top: 4%;padding-bottom: 4%;border-color: #f6debe; border-width: 1px;">
                                                                                        &nbsp;No data found.
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>
                                                                </div>
                                                        </div>
                                                        <!-- profile left side  -->
                                                        
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" id="profile-right">
                                                            
                                                            <div ng-show="progress2" class="panel panel-default">
                                                                    <table class="table" >
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="progress" style="width:60%; margin-left:20%; margin-top:5%; margin-buttom:20%" >
                                                                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                                                                                            </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>  
                                                            </div>
                                                            <div ng-show="tableView">
                                                                <div class="panel panel-default" ng-show="visible2">
                                                                <table class="table">
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Posts</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="panel panel-default noData" style="background: #fdf9e9;color: #735027;margin-top: 5%;margin-bottom: 5%;padding-top: 4%;padding-bottom: 4%;border-color: #f6debe; border-width: 1px;">
                                                                                        &nbsp;No data found.
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                            </table>
                                                            </div>
                                                                <div class="panel panel-default" ng-show="vm">
                                                                <div style="background: #f7f7f7;height:36px;padding-top:10px"><B>&nbsp;Posts</B></div>
                                                                <div ng-show="vm1" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t1" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m1"></p>
                                                                </div>
                                                                <div ng-show="vm2" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t2" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m2"></p>
                                                                </div>
                                                                <div ng-show="vm3" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t3" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m3"></p>
                                                                </div>
                                                                <div ng-show="vm4" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t4" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m4"></p>
                                                                </div>
                                                                <div ng-show="vm5" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t5" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m5"></p>
                                                                </div>
                                                                
                                                            </div>  
                                                            </div>
                                                        </div>
                                                            <!--table-->
                                                        </div>
                                                        <!-- profile right side  -->
                                                    
                                                     </div>
                                                     <!-- outside row -->
                                                
                                                <!--panel body-->
                                            </div>
                                            <!-- inside panel -->
                                        </div>
                                        <!-- second item carousel-->           
                                    </div>
                        </div>
                        <!-- event page -->
                        
                        <div class="col-lg-12 page-content" id="place-page" ng-controller="placeCtl" style="display:none">
                                <div id="myCarousel4" class="carousel slide">
                                <!-- Wrapper for slide-->
                                    <div class="carousel-inner" data-interval='false' role="listbox">            
                                        <div class="item active" style="height:100%; width:100%">
                                                <div class="panel-body">
                                                    <table class="table table-hover" >
                                                        <thead>
                                                            <tr>
                                                                <th>#</th>
                                                                <th>Profile photo</th>
                                                                <th>Name</th>
                                                                <th>Favorite</th>
                                                                <th>Detail</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr dir-paginate='x in show | orderBy:sortType:sortReverse|filter: q| itemsPerPage: 25' current-page="currentPage1" pagination-id="place">
                                                                <td>{{x.item}}</td>
                                                                <td><img class="img-circle" ng-attr-src="{{x.profile_photo}}" height="40px" width="40px"></td>
                                                                <td> {{x.user_name}}</td>
                                                                <td>
                                                                    <button class="btn btn-default" ng-click="fav(x.item)">
                                                                            <span class="glyphicon glyphicon-star-empty" ng-style="{'color':'black','font-size': '15px','display':dis1[x.item]}"></span>
                                                                            <span class="glyphicon glyphicon-star" ng-style="{'color':'yellow','font-size': '15px','display':dis2[x.item]}"></span>
                                                                    </button>
                                                                </td>
                                                                <td style="text:align-center">
                                                                    <button class="btn btn-default" ng-click="ViewPerson(x.item)" style="position:relative;"><i class="fa fa-angle-right" aria-hidden="true"></i></button>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                            
                                                   <div style="text-align:center;" style="width:100%;overflow:auto;">
                                                   <dir-pagination-controls direction-links="true" boundary-links="true" pagination-id="place"></dir-pagination-controls>
                                                   </div>
                                                            <!-- paging control -->
                                               </div>              
                                        </div>
                                        <!-- first carousel's item-->
                                                        
                                        <div class="item" style="height:100%; width:100%">
                                            
                                                <div class="panel-heading" style="width:100%;display:inline-block;background-color:#fff; border:none">
                                                    <div style="float:left;">
                                                        <button class="btn btn-default" ng-click="back()" style="position:relative;"><i class="fa fa-angle-left" aria-hidden="true">&nbsp;Back</i></button> 
                                                    </div>
                                                    <button id="shareBtn" class="btn btn-default" style="position:relative;float:right;margin-left:3%" ng-click="postFB()"><img src="facebook.png" style="height:15px; width:15px">
                                                    </button>
                                                    <button class="btn btn-default" style="position:relative;float:right;" ng-click="fav2()">
                                                           <span ng-show="emptyStar" class="glyphicon glyphicon-star-empty" ng-style="{'color':'black','font-size': '15px'}"></span>
                                                            <span ng-show="solidStar" class="glyphicon glyphicon-star" ng-style="{'color':'yellow','font-size': '15px'}"></span>
                                                    </button>
                                                </div>
                                                                
                                                 <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" id="profile-left"><div class="panel panel-default" ng-show="progress2">
                                                                    <table class="table" >
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="progress" style="width:60%; margin-left:20%; margin-top:5%; margin-buttom:20%" >
                                                                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                                                                                            </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>  
                                                                </div>
                                                                <div ng-show="tableView" class="panel panel-default">
                                                                    <table class="table">
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="panel panel-default" ng-show="visible3">
                                                                                        <table class="table">
                                                                                            <tbody dir-paginate='x in show | orderBy:sortType:sortReverse|filter: q| itemsPerPage: 5' current-page="currentPage1" pagination-id="leg1" style="margin-top:5px">
                                                                                                <tr>
                                                                                                    <th class="align-top" ng-click="showRow(x.i)"><a href='javascript:{}' > {{x.album_name}}</a></th>
                                                                                                </tr>
                                                                                                <tr ng-show="visible4{{x.i}}">
                                                                                                <td>
                                                                                                    <img ng-attr-src="{{x.picture_url1}}">
                                                                                                </td>
                                                                                                </tr>
                                                                                                <tr ng-show="visible5{{x.i}}">
                                                                                                <td>
                                                                                                    <img src="{{x.picture_url2}}" width='50%' height='50%'>
                                                                                                </td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                            
                                                                                        </table>
                                                                                    </div>
                                                                                    <div ng-show="visible1" class="panel panel-default noData" style="background: #fdf9e9;color: #735027;margin-top: 5%;margin-bottom: 5%;padding-top: 4%;padding-bottom: 4%;border-color: #f6debe; border-width: 1px;">
                                                                                        &nbsp;No data found.
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>
                                                                </div>
                                                        </div>
                                                        <!-- profile left side  -->
                                                        
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" id="profile-right">
                                                            <div ng-show="progress2" class="panel panel-default">
                                                                    <table class="table" >
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="progress" style="width:60%; margin-left:20%; margin-top:5%; margin-buttom:20%" >
                                                                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                                                                                            </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>  
                                                            </div>
                                                            <div ng-show="tableView">
                                                                <div class="panel panel-default" ng-show="visible2">
                                                                <table class="table">
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Posts</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="panel panel-default noData" style="background: #fdf9e9;color: #735027;margin-top: 5%;margin-bottom: 5%;padding-top: 4%;padding-bottom: 4%;border-color: #f6debe; border-width: 1px;">
                                                                                        &nbsp;No data found.
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                            </table>
                                                            </div>
                                                                <div class="panel panel-default" ng-show="vm">
                                                                <div style="background: #f7f7f7;height:36px;padding-top:10px"><B>&nbsp;Posts</B></div>
                                                                <div ng-show="vm1" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t1" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m1"></p>
                                                                </div>
                                                                <div ng-show="vm2" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t2" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m2"></p>
                                                                </div>
                                                                <div ng-show="vm3" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t3" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m3"></p>
                                                                </div>
                                                                <div ng-show="vm4" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t4" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m4"></p>
                                                                </div>
                                                                <div ng-show="vm5" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t5" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m5"></p>
                                                                </div>
                                                                
                                                            </div>  
                                                            </div>                               
                                                     </div>
                                                 </div>
                                                <!-- profile right side  -->
                                                    
                                                </div>
                                    
                                                
                                                <!--panel body-->
                                            </div>
                                            <!-- inside panel -->
                                        </div>
                                        <!-- second item carousel-->           
                                    </div>
                            <!-- whole-panel-content -->
                        </div>
                        <!-- place content-->
                        
                        <div class="col-lg-12 page-content" id="group-page" ng-controller="groupCtl" style="display:none">
                                <div id="myCarousel5" class="carousel slide">
                                <!-- Wrapper for slide-->
                                    <div class="carousel-inner" data-interval='false' role="listbox">            
                                        <div class="item active" style="height:100%; width:100%">
                                                <div class="panel-body">
                                                    <table class="table table-hover" >
                                                        <thead>
                                                            <tr>
                                                                <th>#</th>
                                                                <th>Profile photo</th>
                                                                <th>Name</th>
                                                                <th>Favorite</th>
                                                                <th>Detail</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr dir-paginate='x in show | orderBy:sortType:sortReverse|filter: q| itemsPerPage: 25' current-page="currentPage1" pagination-id="group">
                                                                <td>{{x.item}}</td>
                                                                <td><img class="img-circle" ng-attr-src="{{x.profile_photo}}" height="40px" width="40px"></td>
                                                                <td> {{x.user_name}}</td>
                                                                <td>
                                                                    <button class="btn btn-default" ng-click="fav(x.item)">
                                                                            <span class="glyphicon glyphicon-star-empty" ng-style="{'color':'black','font-size': '15px','display':dis1[x.item]}"></span>
                                                                            <span class="glyphicon glyphicon-star" ng-style="{'color':'yellow','font-size': '15px','display':dis2[x.item]}"></span>
                                                                    </button>
                                                                </td>
                                                                <td style="text:align-center">
                                                                    <button class="btn btn-default" ng-click="ViewPerson(x.item)" style="position:relative;"><i class="fa fa-angle-right" aria-hidden="true"></i></button>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                            
                                                   <div style="text-align:center;" style="width:100%;overflow:auto;">
                                                   <dir-pagination-controls direction-links="true" boundary-links="true" pagination-id="group"></dir-pagination-controls>
                                                   </div>
                                                            <!-- paging control -->
                                               </div>              
                                        </div>
                                        <!-- first carousel's item-->
                                                        
                                        <div class="item" style="height:100%; width:100%">
                                            
                                                <div class="panel-heading" style="width:100%;display:inline-block;background-color:#fff; border:none">
                                                    <div style="float:left;">
                                                        <button class="btn btn-default" ng-click="back()" style="position:relative;"><i class="fa fa-angle-left" aria-hidden="true">&nbsp;Back</i></button> 
                                                    </div>
                                                    <button id="shareBtn" class="btn btn-default" style="position:relative;float:right;margin-left:3%" ng-click="postFB()"><img src="facebook.png" style="height:15px; width:15px">
                                                    </button>
                                                    <button class="btn btn-default" style="position:relative;float:right;" ng-click="fav2()">
                                                           <span ng-show="emptyStar" class="glyphicon glyphicon-star-empty" ng-style="{'color':'black','font-size': '15px'}"></span>
                                                            <span ng-show="solidStar" class="glyphicon glyphicon-star" ng-style="{'color':'yellow','font-size': '15px'}"></span>
                                                    </button>
                                                </div>
                                                                
                                                 <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" id="profile-left">
                                                            <div class="panel panel-default" ng-show="progress2">
                                                                    <table class="table" >
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="progress" style="width:60%; margin-left:20%; margin-top:5%; margin-buttom:20%" >
                                                                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                                                                                            </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>  
                                                                </div>
                                                                <div ng-show="tableView" class="panel panel-default">
                                                                    <table class="table">
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="panel panel-default" ng-show="visible3">
                                                                                        <table class="table">
                                                                                            <tbody dir-paginate='x in show | orderBy:sortType:sortReverse|filter: q| itemsPerPage: 5' current-page="currentPage1" pagination-id="leg1" style="margin-top:5px">
                                                                                                <tr>
                                                                                                    <th class="align-top" ng-click="showRow(x.i)"><a href='javascript:{}' > {{x.album_name}}</a></th>
                                                                                                </tr>
                                                                                                <tr ng-show="visible4{{x.i}}">
                                                                                                <td>
                                                                                                    <img ng-attr-src="{{x.picture_url1}}">
                                                                                                </td>
                                                                                                </tr>
                                                                                                <tr ng-show="visible5{{x.i}}">
                                                                                                <td>
                                                                                                    <img src="{{x.picture_url2}}" width='50%' height='50%'>
                                                                                                </td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                            
                                                                                        </table>
                                                                                    </div>
                                                                                    <div ng-show="visible1" class="panel panel-default noData" style="background: #fdf9e9;color: #735027;margin-top: 5%;margin-bottom: 5%;padding-top: 4%;padding-bottom: 4%;border-color: #f6debe; border-width: 1px;">
                                                                                        &nbsp;No data found.
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>
                                                                </div>
                                                        </div>
                                                        <!-- profile left side  -->
                                                        
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" id="profile-right">
                                                            
                                                            <div ng-show="progress2" class="panel panel-default">
                                                                    <table class="table" >
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="progress" style="width:60%; margin-left:20%; margin-top:5%; margin-buttom:20%" >
                                                                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                                                                                            </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>  
                                                            </div>
                                                            <div ng-show="tableView">
                                                                <div class="panel panel-default" ng-show="visible2">
                                                                <table class="table">
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Posts</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="panel panel-default noData" style="background: #fdf9e9;color: #735027;margin-top: 5%;margin-bottom: 5%;padding-top: 4%;padding-bottom: 4%;border-color: #f6debe; border-width: 1px;">
                                                                                        &nbsp;No data found.
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                            </table>
                                                            </div>
                                                                <div class="panel panel-default" ng-show="vm">
                                                                <div style="background: #f7f7f7;height:36px;padding-top:10px"><B>&nbsp;Posts</B></div>
                                                                <div ng-show="vm1" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t1" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m1"></p>
                                                                </div>
                                                                <div ng-show="vm2" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t2" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m2"></p>
                                                                </div>
                                                                <div ng-show="vm3" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t3" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m3"></p>
                                                                </div>
                                                                <div ng-show="vm4" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t4" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m4"></p>
                                                                </div>
                                                                <div ng-show="vm5" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t5" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m5"></p>
                                                                </div>
                                                                
                                                            </div>  
                                                            </div>
                                                        </div>
                                                 </div>
                                                <!-- profile right side  -->
                                                    
                                                </div>
                                    
                                                
                                                <!--panel body-->
                                            </div>
                                            <!-- inside panel -->
                                        </div>
                                        <!-- second item carousel-->           
                                    </div>
                            <!-- whole-panel-content -->
                        </div>
                        <!-- group content-->
                        
                        
                        <div class="col-lg-12 page-content" id="fav-page" ng-controller="favCtl" style="display:none">
                            <div id="myCarousel6" class="carousel slide">
                                <!-- Wrapper for slide-->
                                    <div class="carousel-inner" data-interval='false' role="listbox">            
                                        <div class="item active" style="height:100%; width:100%">
                                                <div class="panel-body">
                                                    <table class="table table-hover" >
                                                        <thead>
                                                            <tr>
                                                                <th>#</th>
                                                                <th>Profile photo</th>
                                                                <th>Name</th>
                                                                <th>Type</th>
                                                                <th>Delete</th>
                                                                <th>Detail</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr dir-paginate='x in show | orderBy:sortType:sortReverse|filter: q| itemsPerPage: 25' current-page="currentPage1" pagination-id="fav">
                                                                <td>{{x.item}}</td>
                                                                <td><img class="img-circle" ng-attr-src="{{x.photo}}" height="40px" width="40px"></td>
                                                                <td> {{x.name}}</td>
                                                                <td> {{x.type}}</td>
                                                                <td>
                                                                    <button class="btn btn-default" ng-click="delete2(x.item)"><i class="fa fa-trash-o"></i></button>
                                                                </td>
                                                                <td style="text:align-center">
                                                                    <button class="btn btn-default" ng-click="ViewPerson(x.item)" style="position:relative;"><i class="fa fa-angle-right" aria-hidden="true"></i></button>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                            
                                                   <div style="text-align:center;" style="width:100%;overflow:auto;">
                                                   <dir-pagination-controls direction-links="true" boundary-links="true" pagination-id="fav"></dir-pagination-controls>
                                                   </div>
                                                            <!-- paging control -->
                                               </div>              
                                        </div>
                                        <!-- first carousel's item-->
                                                        
                                        <div class="item" style="height:100%; width:100%">
                                            
                                                <div class="panel-heading" style="width:100%;display:inline-block;background-color:#fff; border:none">
                                                    <div style="float:left;">
                                                        <button class="btn btn-default" ng-click="back()" style="position:relative;"><i class="fa fa-angle-left" aria-hidden="true">&nbsp;Back</i></button> 
                                                    </div>
                                                    <button id="shareBtn" class="btn btn-default" style="position:relative;float:right;margin-left:3%" ng-click="postFB()"><img src="facebook.png" style="height:15px; width:15px">
                                                    </button>
                                                    <button class="btn btn-default" style="position:relative;float:right;" ng-click="trash()">
                                                           <span ng-show="emptyStar" class="glyphicon glyphicon-star-empty" ng-style="{'color':'black','font-size': '15px'}"></span>
                                                            <span ng-show="solidStar" class="glyphicon glyphicon-star" ng-style="{'color':'yellow','font-size': '15px'}"></span>
                                                    </button>
                                                </div>
                                                                
                                                 <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" id="profile-left">
                                                            <div class="panel panel-default" ng-show="progress2">
                                                                    <table class="table" >
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="progress" style="width:60%; margin-left:20%; margin-top:5%; margin-buttom:20%" >
                                                                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                                                                                            </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>  
                                                                </div>
                                                                <div ng-show="tableView" class="panel panel-default">
                                                                    <table class="table">
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="panel panel-default" ng-show="visible3">
                                                                                        <table class="table">
                                                                                            <tbody dir-paginate='x in show | orderBy:sortType:sortReverse|filter: q| itemsPerPage: 5' current-page="currentPage1" pagination-id="leg1" style="margin-top:5px">
                                                                                                <tr>
                                                                                                    <th class="align-top" ng-click="showRow(x.i)"><a href='javascript:{}' > {{x.album_name}}</a></th>
                                                                                                </tr>
                                                                                                <tr ng-show="visible4{{x.i}}">
                                                                                                <td>
                                                                                                    <img ng-attr-src="{{x.picture_url1}}">
                                                                                                </td>
                                                                                                </tr>
                                                                                                <tr ng-show="visible5{{x.i}}">
                                                                                                <td>
                                                                                                    <img src="{{x.picture_url2}}" width='50%' height='50%'>
                                                                                                </td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                            
                                                                                        </table>
                                                                                    </div>
                                                                                    <div ng-show="visible1" class="panel panel-default noData" style="background: #fdf9e9;color: #735027;margin-top: 5%;margin-bottom: 5%;padding-top: 4%;padding-bottom: 4%;border-color: #f6debe; border-width: 1px;">
                                                                                        &nbsp;No data found.
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>
                                                                </div>
                                                        </div>
                                                        <!-- profile left side  -->
                                                        
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" id="profile-right">
                                                            <div ng-show="progress2" class="panel panel-default">
                                                                    <table class="table" >
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Albums</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="progress" style="width:60%; margin-left:20%; margin-top:5%; margin-buttom:20%" >
                                                                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="20" aria-valuemax="100" style="width: 40%">
                                                                                            </div>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                                </table>  
                                                            </div>
                                                            <div ng-show="tableView">
                                                                <div class="panel panel-default" ng-show="visible2">
                                                                <table class="table">
                                                                    <tbody>
                                                                            <th style="background: #f7f7f7">Posts</th>
                                                                            <tr style="width:100%;">
                                                                                <td>
                                                                                    <div class="panel panel-default noData" style="background: #fdf9e9;color: #735027;margin-top: 5%;margin-bottom: 5%;padding-top: 4%;padding-bottom: 4%;border-color: #f6debe; border-width: 1px;">
                                                                                        &nbsp;No data found.
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                    </tbody>
                                                            </table>
                                                            </div>
                                                                <div class="panel panel-default" ng-show="vm">
                                                                <div style="background: #f7f7f7;height:36px;padding-top:10px"><B>&nbsp;Posts</B></div>
                                                                <div ng-show="vm1" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t1" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m1"></p>
                                                                </div>
                                                                <div ng-show="vm2" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t2" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m2"></p>
                                                                </div>
                                                                <div ng-show="vm3" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t3" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m3"></p>
                                                                </div>
                                                                <div ng-show="vm4" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t4" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m4"></p>
                                                                </div>
                                                                <div ng-show="vm5" class="panel panel-default" style="margin-top:10px; margin-left:15px; margin-right:15px">
                                                                        <table>
                                                                            <tr>
                                                                                <td style="width:10%">
                                                                                    <img ng-attr-src="{{purl}}" width="80%" height="80%" style="padding-left:10px">
                                                                                </td>
                                                                                <td style="width:70%">
                                                                                    <p ng-bind="n1"></p>
                                                                                    <p ng-bind="t5" style="color:#d7d3ce"></p>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                        <p style="padding-left:10px" ng-bind="m5"></p>
                                                                </div>
                                                                
                                                            </div>  
                                                            </div>                               
                                                     </div>
                                                 </div>
                                                <!-- profile right side  -->
                                                    
                                                </div>
                                    
                                                
                                                <!--panel body-->
                                            </div>
                                            <!-- inside panel -->
                                        </div>
                                        <!-- second item carousel-->           
                                    </div>
                            <!-- whole-panel-content -->
                        </div>
                        <!-- Fav page-->
                        
                        
                    </div>
                    <!-- warpper row-->
                </div>
            <!--container-fluid-->
            </div>
            <!-- /#page-content-wrapper -->
            
        </div>
        
        
    </body>
    
    <script type="text/javascript">
       var type="user";
       var oBox = document.getElementById("navBar");
       
       oBox.addEventListener("click",function(e) {
        // 检查事件源e.targe是否为Li
         var aLi = oBox.children;
  	     var oTarget = e.target ;//解决浏览器的兼容性问题
  	     for(var i = 0; i < aLi.length; i++){
             if(aLi[i] != oTarget){
        	   aLi[i].style.background = 'white';
        	   aLi[i].style.color = 'black';
               aLi[i].className="inactive";
    	     }else{
        	   aLi[i].style.background = '#3c5b97';
        	   aLi[i].style.color = 'white';
               aLi[i].className="active";
    	     }
  	     }
      });
        
     	var searchB = document.getElementById("search");
  	    searchB.addEventListener("click",function(e) {
            var elem = document.getElementById("myBar"); 
            elem.style.width = '0%'; 
            var width = 1;
            var id = setInterval(frame, 0.01);
            var progFinish = false;
            function frame() {
                if (width >= 200) {
                    clearInterval(id);
                    width = 0.1; 
                } else {
                    width = width + 0.1; 
                    elem.style.width = width + '%'; 
                }
            }
        });
        
        var clearB = document.getElementById("clearButton");
        clearB.addEventListener("click",function(e){
            document.getElementById("inputArea").value = "";
        });

        
        
        
    </script>
    
    <script>      
        $(document).ready(function(){
            $flag = false;
            $(".page-content").hide();
            
            $("#id_form").submit(function(e) {
                    e.preventDefault();
            });
            
            
            $("#search").on("click", function(e){
                if($("#inputArea").val() != ""){
                    $(".page-content").hide();
                    $('#myProgress').css("display","");
                    $flag = true;
                    setTimeout(function(){
                        $('#myProgress').css("display","none");
                        if($("#user-nav").hasClass("active")){
                            $(".page-content").hide();
                            $("#user-page").show();
                        }
                        if($("#page-nav").hasClass("active")){
                            $(".page-content").hide();
                            $("#page-page").show();
                        }
                     
                        if($("#event-nav").hasClass("active")){
                            $(".page-content").hide();
                            $("#event-page").show();
                        }
                
                        if($("#place-nav").hasClass("active")){
                            $(".page-content").hide();
                            $("#place-page").show();
                        } 
                
                        if($("#group-nav").hasClass("active")){
                            $(".page-content").hide();
                            $("#group-page").show();
                        }
                
                        if($("#fav-nav").hasClass("active")){
                            $(".page-content").hide();
                            $("#fav-page").show();
                        }
                    }, 8000);
                }
            });
            
            
            $("#user-nav").on("click", function(e){
                if($flag == true){
                    $(".page-content").hide();
                    $("#user-page").show();
                } 
            });
            
            $("#page-nav").on("click", function(e){
                if($flag == true){
                    $(".page-content").hide();
                    $("#page-page").show();
                }
            });
            
            $("#event-nav").on("click", function(e){
                if($flag == true){
                        $(".page-content").hide();
                        $("#event-page").show();
                }  
            });
            
            $("#place-nav").on("click", function(e){
                if($flag == true){
                        $(".page-content").hide();
                        $("#place-page").show();
                }  
            });
            
            $("#group-nav").on("click", function(e){
                if($flag == true){
                        $(".page-content").hide();
                        $("#group-page").show();
                }  
            });
            
            $("#fav-nav").on("click", function(e){
                if($flag == true){
                        $(".page-content").hide();
                        $("#fav-page").show();
                }  
            });
       
    });
        
    
    </script>
    <script>
        var app = angular.module('myApp', ['ngAnimate', 'ngSanitize','ui.bootstrap', 'angularUtils.directives.dirPagination']);
        
        app.factory('sharedService', function($rootScope) {
            var sharedService = {};
            sharedService.targetId = 0;
            sharedService.keyword = '';
            sharedService.record = [];
            sharedService.IDdelByFav = 0;
            
            // ============== search ==============//
            sharedService.send_keyword = function(x){
                this.keyword = x;
                $rootScope.$broadcast('send_keyword');
            }
            
            // ============== user ==============//
            sharedService.add_user = function(x){
                this.record = x;
                $rootScope.$broadcast("add_user");
            }
            
            // ============== page ==============//
            sharedService.add_page = function(x){
                this.record = x;
                $rootScope.$broadcast("add_page");
            }
            
            // ============== event ==============//
            sharedService.add_event = function(x){
                this.record = x;
                $rootScope.$broadcast("add_event");
            }
            
            // ============== place ==============//
            sharedService.add_place = function(x){
                this.record = x;
                $rootScope.$broadcast("add_place");
            }
            
            // ============== group ==============//
            sharedService.add_group = function(x){
                this.record = x;
                $rootScope.$broadcast("add_group");
            }
            
             sharedService.freshFav = function(){
                $rootScope.$broadcast("freshFav");
             }
             
             sharedService.delete = function(x){
                this.targetId = x;
                $rootScope.$broadcast("delete");
             }
             
             sharedService.trash_delete = function(x){
                 this.IDdelByFav = x;
                 $rootScope.$broadcast("trash_delete");
             }
            
            return sharedService;
        });
        
        app.controller("searchCtl", function($scope, $http, sharedService){
            $scope.searchGo = function(){
                if($scope.keyword != null){
                    sharedService.send_keyword($scope.keyword);
                }
            }
        });
        
        app.controller("userCtl", function($scope, $http, sharedService,$timeout){
            $scope.currentPage1 = 1;
            $scope.idArray = [];
            $scope.nameArray = [];
            $scope.photoArray = [];
            $scope.visible = false;
            $scope.dis1 = [];
            $scope.dis2 = [];
            $scope.currUser = 0;
            $scope.emptyStar = false;
            $scope.solidStar = false;
            $scope.storeKw = "";
            
            $scope.vm = false;
            $scope.vm1 = false;
            $scope.vm2 = false;
            $scope.vm3 = false;
            $scope.vm4 = false;
            $scope.vm5 = false;
            $scope.currUser = 0;
            $scope.firstTime = true;
            $scope.backArg = false;
            
            $scope.visible1 = false;
            $scope.visible2 = false;
            $scope.visible3 = false;
            $scope.visible4 = false;
            $scope.visible5 = false;
            $scope.visible6 = false;
            $scope.visible7 = false;
            
            $scope.visible40 = false;
            $scope.visible50 = false;
            $scope.visible41 = false;
            $scope.visible51 = false;
            $scope.visible42 = false;
            $scope.visible52 = false;
            $scope.visible43 = false;
            $scope.visible53 = false;
            $scope.visible44 = false;
            $scope.visible54 = false;
            
            $scope.emptyStar = false;
            $scope.solidStar = false;
            
            $scope.progress2 = false;
            $scope.tableView = false;
            
            $scope.postFB = function(){
		      FB.ui({
			     app_id: "443485932666373",
			     method: 'feed',
			     link: 'https://developers.facebook.com/docs/',
			     picture: $scope.postPicture,
			     name: $scope.postName,
			     caption: "FB SEARCH FROM USC CSCI571"
		      }, function(response){
		          if (response && !response.error_message)
                        alert("success");
		          else
                        alert("fail");
		          });
	       }
            
            $scope.ViewPerson = function(item){
                $scope.progress2 = true;
                $timeout(function () { 
                    $scope.progress2 = false;
                    $scope.tableView = true; 
                }, 2000);
                //$scope.progress2 = false;
//                $scope.tableView = true;
                $scope.postPicture = $scope.photoArray[item];
                $scope.postName = $scope.nameArray[item];
                if($scope.dis1[item] != "none"){
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }else{
                    $scope.emptyStar = false;
                    $scope.solidStar = true;
                }
                $scope.currUser = item;
                var searchId = $scope.idArray[item];
                $("#myCarousel1").carousel('next');
                $("#myCarousel1").carousel('pause');
                var url = 'http://sample-env-1.jqkvjigwtu.us-west-2.elasticbeanstalk.com/index.php?searchid='+searchId;
                $http.get(url)
                .success(function (data, status, headers) {
                    if(data == null){
                        $scope.visible1 = true;
                        $scope.visible2 = true;
                    }else{
                        if(data["data"] == null){
                            $scope.visible1 = true;
                        }else{
                            $scope.visible3 = true;
                            var i = 0;
                            
                            angular.forEach(data["data"], function(d){
                                d['i'] = i;
                                d['album_name'] = d['name'];
                                if(d['photos'] != undefined){
                                    if(d['photos']['data'] != undefined){
                                        if(d['photos']['data'][0] != undefined){
                                            if(d['photos']['data'][0]['picture'] != undefined){
                                                d['picture_url1'] = d['photos']['data'][0]['picture'];
                                            }else{
                                            $scope.visible4 = false;
                                            }
                                        }
                                        if(d['photos']['data'][1] != undefined){
                                            if(d['photos']['data'][1]['picture'] != undefined){
                                                d['picture_url2'] = d['photos']['data'][1]['picture'];
                                            }else{
                                                $scope.visible5 = false;
                                            }
                                        }
                                   }
                               }
                                i++;
                            
                           });
                            $scope.show = data["data"];
                        
                        }
                        
                        if(data[0] == null){
                            $scope.visible2 = true;
                        }else{         
                            $scope.vm = true;
                            if(data[0][0]["message"] != undefined){
                                $scope.vm1 = true;
                                $scope.m1 = data[0][0]["message"];
                                $scope.t1 = $scope.trimTime(data[0][0]["created_time"]);
                            }else{
                                $scope.vm1 = false;
                            }
                        
                            if(data[0][1]["message"] != undefined){
                                $scope.vm2 = true;
                                $scope.m2 = data[0][1]["message"];
                                $scope.t2 = $scope.trimTime(data[0][1]["created_time"]);
                            }else{
                                $scope.vm2 = false;
                            }
                        
                            if(data[0][2]["message"] != undefined){
                                $scope.vm3 = true;
                                $scope.m3 = data[0][2]["message"];
                                $scope.t3 = $scope.trimTime(data[0][2]["created_time"]);
                            }else{
                                $scope.vm3 = false;
                            }
                            
                            if(data[0][3]["message"] != undefined){
                                $scope.vm4 = true;
                                $scope.m4 = data[0][3]["message"];
                                $scope.t4 = $scope.trimTime(data[0][3]["created_time"]);
                            }else{
                                $scope.vm4 = false;
                            }
                            
                            if(data[0][4]["message"] != undefined){
                                $scope.vm5 = true;
                                $scope.m5 = data[0][4]["message"];
                                $scope.t5 = $scope.trimTime(data[0][4]["created_time"]);
                            }else{
                                $scope.vm5 = false;
                            }
                            $scope.n1 = $scope.nameArray[item];
                            $scope.purl = $scope.avatorArray[item];
                            
                        }
                    }   
                    
                }).error(function(response){
                    alert("erro!");
                });
                
            }
            
            $scope.back = function(){
                $("#myCarousel1").carousel('prev');
                $("#myCarousel1").carousel('pause');
                $scope.progress2 = false;
                $scope.tableView = false;
            }
            
            $scope.fav = function(item){
                if($scope.dis1[item] != "none"){
                    var record = [];
                    record.push($scope.idArray[item]);
                    record.push($scope.photoArray[item]);
                    record.push($scope.nameArray[item]);
                    record.push("user");
                    sharedService.add_user(record);
                    $scope.dis1[item] = "none";
                    $scope.dis2[item] = "";
                }else{
                    sharedService.delete($scope.idArray[item]);
                    $scope.dis2[item] = "none";
                    $scope.dis1[item] = "";
                }
                
            }
            
            $scope.fav2 = function(){
                if($scope.dis1[$scope.currUser] != "none"){
                    var record = [];
                    record.push($scope.idArray[$scope.currUser]);
                    record.push($scope.photoArray[$scope.currUser]);
                    record.push($scope.nameArray[$scope.currUser]);
                    record.push("user");
                    sharedService.add_user(record);
                    $scope.dis1[$scope.currUser] = "none";
                    $scope.dis2[$scope.currUser] = "";
                    $scope.emptyStar = false;
                    $scope.solidStar = true;
                }else{
                    sharedService.delete($scope.idArray[$scope.currUser]);
                    $scope.dis2[$scope.currUser] = "none";
                    $scope.dis1[$scope.currUser] = "";
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }
                
            }
            
            
            $scope.$on("send_keyword", function(){
                $scope.emptyStar = true;
                $scope.solidStar = false;
                var word = sharedService.keyword;
                if($scope.storeKw != word){
                   $scope.storeKw = word;
                var url = 'http://sample-env-1.jqkvjigwtu.us-west-2.elasticbeanstalk.com/index.php?type=user&keyword='+word;
                $http.get(url)
                .success(function (data, status, headers) {
                    var i = 1;
                    $scope.idArray[0] = 0;
                    $scope.nameArray[0] = 0;
                    $scope.photoArray[0] = 0;
                    angular.forEach(data, function(d){
                        $scope.dis1[i] = "";
                        $scope.dis2[i] = "none";
                        d["item"] = i;
                        d["user_name"] = d["name"];
                        d["profile_photo"] = d["picture"]["data"]["url"]; 
                        $scope.idArray[i] = d["id"];
                        $scope.nameArray[i] = d["name"];
                        $scope.photoArray[i] = d["picture"]["data"]["url"]; 
                        i++;
                    });
                    $scope.show = data;
                }).error(function(response){
                    alert("erro!");
                });
              }
            });
            
            $scope.$on("trash_delete",function(){
                var deleteID = sharedService.IDdelByFav;
                var i = 0;
                while(i < $scope.idArray.length){
                    if($scope.idArray[i] != deleteID){
                        i++;
                    }else{
                        break;
                    }    
                }
                if(i < $scope.idArray.length){
                    $scope.dis2[i] = "none";
                    $scope.dis1[i] = "";
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }
            });
        });
        
        app.controller("pageCtl", function($scope, $http, sharedService,$timeout){
            $scope.currentPage1 = 1;
            $scope.idArray = [];
            $scope.visible1 = false;
            $scope.visible2 = false;
            $scope.visible3 = false;
            $scope.visible4 = false;
            $scope.visible5 = false;
            $scope.visible6 = false;
            $scope.visible7 = false;
            $scope.word = "";
            $scope.avatorArray = [];
            $scope.nameArray = [];
            $scope.dis1 = [];            
            $scope.dis2 = [];
            $scope.storeKw = "";

            $scope.vm = false;
            $scope.vm1 = false;
            $scope.vm2 = false;
            $scope.vm3 = false;
            $scope.vm4 = false;
            $scope.vm5 = false;
            $scope.currUser = 0;
            $scope.firstTime = true;
            $scope.backArg = false;
            
            $scope.visible40 = false;
            $scope.visible50 = false;
            $scope.visible41 = false;
            $scope.visible51 = false;
            $scope.visible42 = false;
            $scope.visible52 = false;
            $scope.visible43 = false;
            $scope.visible53 = false;
            $scope.visible44 = false;
            $scope.visible54 = false;
            
            $scope.emptyStar = false;
            $scope.solidStar = false;
            
            $scope.progress2 = false;
            $scope.tableView = false;
            
            $scope.postFB = function(){
		      FB.ui({
			     app_id: "443485932666373",
			     method: 'feed',
			     link: 'https://developers.facebook.com/docs/',
			     picture: $scope.postPicture,
			     name: $scope.postName,
			     caption: "FB SEARCH FROM USC CSCI571"
		      }, function(response){
		          if (response && !response.error_message)
                        alert("success");
		          else
                        alert("fail");
		          });
	       }
            
            $scope.fav = function(item){
                if($scope.dis1[item] != "none"){
                    var record = [];
                    record.push($scope.idArray[item]);
                    record.push($scope.avatorArray[item]);
                    record.push($scope.nameArray[item]);
                    record.push("page");
                    sharedService.add_page(record);
                    $scope.dis1[item] = "none";
                    $scope.dis2[item] = "";
                }else{
                    sharedService.delete($scope.idArray[item]);
                    $scope.dis2[item] = "none";
                    $scope.dis1[item] = "";
                }
                
            }
            
            $scope.fav2 = function(){
                if($scope.dis1[$scope.currUser] != "none"){
                    var record = [];
                    record.push($scope.idArray[$scope.currUser]);
                    record.push($scope.avatorArray[$scope.currUser]);
                    record.push($scope.nameArray[$scope.currUser]);
                    record.push("page");
                    sharedService.add_page(record);
                    $scope.dis1[$scope.currUser] = "none";
                    $scope.dis2[$scope.currUser] = "";
                    $scope.emptyStar = false;
                    $scope.solidStar = true;
                }else{
                    sharedService.delete($scope.idArray[$scope.currUser]);
                    $scope.dis2[$scope.currUser] = "none";
                    $scope.dis1[$scope.currUser] = "";
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }
                
            }
            
            $scope.trimTime = function(time){
                //2017-04-05T01:42:00+0000
                var str = "TIME ERROR";
                if(time.length > 20){
                    str = time.substring(0,10);
                    str += " ";
                    str += time.substring(11,19);
                }
                return str;
            }
            
            
            $scope.showRow = function(i){
                if(i == 0){
                        
                        if($scope.visible40 == true && $scope.visible50 == true){
                            $scope.visible40 = false; 
                            $scope.visible50 = false; 
                        }else{
                            $scope.visible40 = true; 
                            $scope.visible50 = true;
                        }
                }
                
                if(i == 1){
                        if($scope.visible41 == true && $scope.visible51 == true){
                            $scope.visible41 = false; 
                            $scope.visible51 = false; 
                        }else{
                            $scope.visible41 = true; 
                            $scope.visible51 = true;
                        }
                }
                    
                if(i == 2){
                        if($scope.visible42 == true && $scope.visible52 == true){
                            $scope.visible42 = false; 
                            $scope.visible52 = false; 
                        }else{
                            $scope.visible42 = true; 
                            $scope.visible52 = true;
                        }
                }        
                        
                if(i == 3){
                        if($scope.visible43 == true && $scope.visible53 == true){
                            $scope.visible43 = false; 
                            $scope.visible53 = false; 
                        }else{
                            $scope.visible43 = true; 
                            $scope.visible53 = true;
                        }
                }  
                    
                if(i == 4){
                        if($scope.visible44 == true && $scope.visible54 == true){
                            $scope.visible44 = false; 
                            $scope.visible54 = false; 
                        }else{
                            $scope.visible44 = true; 
                            $scope.visible54 = true;
                        }
                }      
            }
            
            $scope.ViewPerson = function(item){
                $scope.progress2 = true;
                $timeout(function () { 
                    $scope.progress2 = false;
                    $scope.tableView = true; 
                }, 2000);
                $scope.postPicture = $scope.avatorArray[item];
                $scope.postName = $scope.nameArray[item];
                if($scope.dis1[item] != "none"){
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }else{
                    $scope.emptyStar = false;
                    $scope.solidStar = true;
                }
                $scope.currUser = item;
                var searchId = $scope.idArray[item];
                $("#myCarousel2").carousel('next');
                $("#myCarousel2").carousel('pause');
                
                //GET ALBUMS
                var url = 'http://sample-env-1.jqkvjigwtu.us-west-2.elasticbeanstalk.com/index.php?searchid='+searchId;
              //  console.log(url);
                $http.get(url)
                .success(function (data, status, headers) {
                    if(data == null){
                        $scope.visible1 = true;
                        $scope.visible2 = true;
                    }else{
                        if(data["data"] == null){
                            $scope.visible1 = true;
                        }else{
                            $scope.visible3 = true;
                            var i = 0;
                            
                            angular.forEach(data["data"], function(d){
                                d['i'] = i;
                                d['album_name'] = d['name'];
                                if(d['photos'] != undefined){
                                    if(d['photos']['data'] != undefined){
                                        if(d['photos']['data'][0] != undefined){
                                            if(d['photos']['data'][0]['picture'] != undefined){
                                                d['picture_url1'] = d['photos']['data'][0]['picture'];
                                            }else{
                                            $scope.visible4 = false;
                                            }
                                        }
                                        if(d['photos']['data'][1] != undefined){
                                            if(d['photos']['data'][1]['picture'] != undefined){
                                                d['picture_url2'] = d['photos']['data'][1]['picture'];
                                            }else{
                                                $scope.visible5 = false;
                                            }
                                        }
                                   }
                               }
                                i++;
                            
                           });
                            $scope.show = data["data"];
                        
                        }
                        
                        if(data[0] == null){
                            $scope.visible2 = true;
                        }else{         
                            $scope.vm = true;
                            if(data[0][0]["message"] != undefined){
                                $scope.vm1 = true;
                                $scope.m1 = data[0][0]["message"];
                                $scope.t1 = $scope.trimTime(data[0][0]["created_time"]);
                            }else{
                                $scope.vm1 = false;
                            }
                        
                            if(data[0][1]["message"] != undefined){
                                $scope.vm2 = true;
                                $scope.m2 = data[0][1]["message"];
                                $scope.t2 = $scope.trimTime(data[0][1]["created_time"]);
                            }else{
                                $scope.vm2 = false;
                            }
                        
                            if(data[0][2]["message"] != undefined){
                                $scope.vm3 = true;
                                $scope.m3 = data[0][2]["message"];
                                $scope.t3 = $scope.trimTime(data[0][2]["created_time"]);
                            }else{
                                $scope.vm3 = false;
                            }
                            
                            if(data[0][3]["message"] != undefined){
                                $scope.vm4 = true;
                                $scope.m4 = data[0][3]["message"];
                                $scope.t4 = $scope.trimTime(data[0][3]["created_time"]);
                            }else{
                                $scope.vm4 = false;
                            }
                            
                            if(data[0][4]["message"] != undefined){
                                $scope.vm5 = true;
                                $scope.m5 = data[0][4]["message"];
                                $scope.t5 = $scope.trimTime(data[0][4]["created_time"]);
                            }else{
                                $scope.vm5 = false;
                            }
                            $scope.n1 = $scope.nameArray[item];
                            $scope.purl = $scope.avatorArray[item];
                            
                        }
                    }   
  
                }).error(function(response){
                    alert("erro!");
                }); 
            }
            
            $scope.back = function(){
                $scope.backArg = true;
                sharedService.send_keyword($scope.word);
                $("#myCarousel2").carousel('prev');
                $("#myCarousel2").carousel('pause');
                $scope.progress2 = false;
                $scope.tableView = false;
            }
            
           
            $scope.$on("send_keyword", function(){
                $scope.emptyStar = true;
                $scope.solidStar = false;
                $scope.word = sharedService.keyword;
                if($scope.storeKw != $scope.word || $scope.backArg == true){
                   $scope.firstTime = true;
                   $scope.storeKw = $scope.word;
                   $scope.backArg = false;
                    var url = 'http://sample-env-1.jqkvjigwtu.us-west-2.elasticbeanstalk.com/index.php?type=page&keyword='+$scope.word;
                    console.log(url);
                    $http.get(url)
                    .success(function (data, status, headers) {
                        var i = 1;
                        $scope.idArray[0] = 0;
                        $scope.nameArray[0] = 0;
                        $scope.avatorArray[0] = 0;
                        $scope.dis1[i] = "";
                        $scope.dis1[i] = "";
                        angular.forEach(data, function(d){
                            if($scope.firstTime == true){
                                $scope.dis1[i] = "";
                                $scope.dis2[i] = "none";
                            }
                            d["item"] = i;
                            $scope.idArray[i] = d["id"];
                            $scope.nameArray[i] = d["name"];
                            d["user_name"] = d["name"];
                            $scope.avatorArray[i] = d["picture"]["data"]["url"];
                            d["profile_photo"] = d["picture"]["data"]["url"]; 
                            i++;
                        });
                        $scope.show = data;
                        $scope.firstTime = false;
                    }).error(function(response){
                        alert("erro!");
                    });

                }
            });
            
            $scope.$on("trash_delete",function(){
                var deleteID = sharedService.IDdelByFav;
                var i = 0;
                while(i < $scope.idArray.length){
                    if($scope.idArray[i] != deleteID){
                        i++;
                    }else{
                        break;
                    }    
                }
                if(i < $scope.idArray.length){
                    $scope.dis2[i] = "none";
                    $scope.dis1[i] = "";
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }
            });
            
        });
        
        app.controller("eventCtl", function($scope, $http, sharedService,$timeout){
            $scope.currentPage1 = 1;
            $scope.fav_list = {};
            $scope.idArray = [];
            $scope.photoArray = [];
            $scope.nameArray = [];
            $scope.visible1 = false;
            $scope.visible2 = false;
            $scope.visible3 = false;
            $scope.visible4 = false;
            $scope.visible5 = false;
            $scope.visible6 = false;
            $scope.visible7 = false;
            $scope.word = "";
            $scope.dis1 = [];
            $scope.dis2 = [];
            $scope.storeKw = "";
            
            $scope.vm = false;
            $scope.vm1 = false;
            $scope.vm2 = false;
            $scope.vm3 = false;
            $scope.vm4 = false;
            $scope.vm5 = false;
            
            $scope.visible40 = false;
            $scope.visible50 = false;
            $scope.visible41 = false;
            $scope.visible51 = false;
            $scope.visible42 = false;
            $scope.visible52 = false;
            $scope.visible43 = false;
            $scope.visible53 = false;
            $scope.visible44 = false;
            $scope.visible54 = false;
            
            $scope.emptyStar = false;
            $scope.solidStar = false;
            
            $scope.progress2 = false;
            $scope.tableView = false;
            
            $scope.currUser = 0;

            $scope.ViewPerson = function(item){
                $scope.progress2 = true;
                $timeout(function () { 
                    $scope.progress2 = false;
                    $scope.tableView = true; 
                }, 2000);
                $scope.postPicture = $scope.photoArray[item];
                $scope.postName = $scope.nameArray[item];
                if($scope.dis1[item] != "none"){
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }else{
                    $scope.emptyStar = false;
                    $scope.solidStar = true;
                }
                $scope.currUser = item;
                var searchId = $scope.idArray[item];
                $("#myCarousel3").carousel('next');
                $("#myCarousel3").carousel('pause');
                var url = 'http://sample-env-1.jqkvjigwtu.us-west-2.elasticbeanstalk.com/index.php?searchid='+searchId;
                $http.get(url)
                .success(function (data, status, headers) {
                    if(data == null){
                        $scope.visible1 = true;
                        $scope.visible2 = true;
                    }else{
                        if(data["data"] == null){
                            $scope.visible1 = true;
                        }else{
                            $scope.visible3 = true;
                            var i = 0;
                            
                            angular.forEach(data["data"], function(d){
                                d['i'] = i;
                                d['album_name'] = d['name'];
                                if(d['photos'] != undefined){
                                    if(d['photos']['data'] != undefined){
                                        if(d['photos']['data'][0] != undefined){
                                            if(d['photos']['data'][0]['picture'] != undefined){
                                                d['picture_url1'] = d['photos']['data'][0]['picture'];
                                            }else{
                                            $scope.visible4 = false;
                                            }
                                        }
                                        if(d['photos']['data'][1] != undefined){
                                            if(d['photos']['data'][1]['picture'] != undefined){
                                                d['picture_url2'] = d['photos']['data'][1]['picture'];
                                            }else{
                                                $scope.visible5 = false;
                                            }
                                        }
                                   }
                               }
                                i++;
                            
                           });
                            $scope.show = data["data"];
                        
                        }
                        
                        if(data[0] == null){
                            $scope.visible2 = true;
                        }else{         
                            $scope.vm = true;
                            if(data[0][0]["message"] != undefined){
                                $scope.vm1 = true;
                                $scope.m1 = data[0][0]["message"];
                                $scope.t1 = $scope.trimTime(data[0][0]["created_time"]);
                            }else{
                                $scope.vm1 = false;
                            }
                        
                            if(data[0][1]["message"] != undefined){
                                $scope.vm2 = true;
                                $scope.m2 = data[0][1]["message"];
                                $scope.t2 = $scope.trimTime(data[0][1]["created_time"]);
                            }else{
                                $scope.vm2 = false;
                            }
                        
                            if(data[0][2]["message"] != undefined){
                                $scope.vm3 = true;
                                $scope.m3 = data[0][2]["message"];
                                $scope.t3 = $scope.trimTime(data[0][2]["created_time"]);
                            }else{
                                $scope.vm3 = false;
                            }
                            
                            if(data[0][3]["message"] != undefined){
                                $scope.vm4 = true;
                                $scope.m4 = data[0][3]["message"];
                                $scope.t4 = $scope.trimTime(data[0][3]["created_time"]);
                            }else{
                                $scope.vm4 = false;
                            }
                            
                            if(data[0][4]["message"] != undefined){
                                $scope.vm5 = true;
                                $scope.m5 = data[0][4]["message"];
                                $scope.t5 = $scope.trimTime(data[0][4]["created_time"]);
                            }else{
                                $scope.vm5 = false;
                            }
                            $scope.n1 = $scope.nameArray[item];
                            $scope.purl = $scope.avatorArray[item];
                            
                        }
                    }   
                }).error(function(response){
                    alert("erro!");
                });
                
            }
            
            $scope.back = function(){
                $("#myCarousel3").carousel('prev');
                $("#myCarousel3").carousel('pause');
                $scope.progress2 = false;
                $scope.tableView = false;
            }
            
            $scope.postFB = function(){
		      FB.ui({
			     app_id: "443485932666373",
			     method: 'feed',
			     link: 'https://developers.facebook.com/docs/',
			     picture: $scope.postPicture,
			     name: $scope.postName,
			     caption: "FB SEARCH FROM USC CSCI571"
		      }, function(response){
		          if (response && !response.error_message)
                        alert("success");
		          else
                        alert("fail");
		          });
	       }
            
            $scope.fav = function(item){
                if($scope.dis1[item] != "none"){
                    var record = [];
                    record.push($scope.idArray[item]);
                    record.push($scope.photoArray[item]);
                    record.push($scope.nameArray[item]);
                    record.push("event");
                    sharedService.add_event(record);
                    $scope.dis1[item] = "none";
                    $scope.dis2[item] = "";
                }else{
                    sharedService.delete($scope.idArray[item]);
                    $scope.dis2[item] = "none";
                    $scope.dis1[item] = "";
                }
                
            }
            
            $scope.fav2 = function(){
                if($scope.dis1[$scope.currUser] != "none"){
                    var record = [];
                    record.push($scope.idArray[$scope.currUser]);
                    record.push($scope.photoArray[$scope.currUser]);
                    record.push($scope.nameArray[$scope.currUser]);
                    record.push("event");
                    sharedService.add_event(record);
                    $scope.dis1[$scope.currUser] = "none";
                    $scope.dis2[$scope.currUser] = "";
                    $scope.emptyStar = false;
                    $scope.solidStar = true;
                }else{
                    sharedService.delete($scope.idArray[$scope.currUser]);
                    $scope.dis2[$scope.currUser] = "none";
                    $scope.dis1[$scope.currUser] = "";
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }
                
            }
            
            $scope.$on("send_keyword", function(){
                $scope.emptyStar = true;
                $scope.solidStar = false;
                $scope.word = sharedService.keyword;
                if($scope.storeKw != $scope.word){
                   $scope.storeKw = $scope.word;
                var url = 'http://sample-env-1.jqkvjigwtu.us-west-2.elasticbeanstalk.com/index.php?type=event&keyword='+$scope.word;
                console.log(url);
                $http.get(url)
                .success(function (data, status, headers) {
                    var i = 1;
                    $scope.idArray[0] = 0;
                    $scope.photoArray[0] = 0;
                    $scope.nameArray[0] = 0;
                    angular.forEach(data, function(d){
                        
                        $scope.dis1[i] = "";
                        $scope.dis2[i] = "none";
                        
                        d["item"] = i;
                        $scope.idArray[i] = d["id"];
                        $scope.photoArray[i] = d["picture"]["data"]["url"];
                        $scope.nameArray[i] = d["name"];
                        d["user_name"] = d["name"];
                        d["profile_photo"] = d["picture"]["data"]["url"]; 
                        i++;
                    });
                    $scope.firstTime = false;
                    $scope.show = data;
                }).error(function(response){
                    alert("erro!");
                });
                }
            });
            
            $scope.$on("trash_delete",function(){
                var deleteID = sharedService.IDdelByFav;
                var i = 0;
                while(i < $scope.idArray.length){
                    if($scope.idArray[i] != deleteID){
                        i++;
                    }else{
                        break;
                    }    
                }
                if(i < $scope.idArray.length){
                    $scope.dis2[i] = "none";
                    $scope.dis1[i] = "";
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }
            });
        });
        
        app.controller("placeCtl", function($scope, $http, sharedService,$timeout){
            $scope.currentPage1 = 1;
            $scope.idArray = [];
            $scope.visible1 = false;
            $scope.visible2 = false;
            $scope.visible3 = false;
            $scope.visible4 = false;
            $scope.visible5 = false;
            $scope.visible6 = false;
            $scope.visible7 = false;
            $scope.word = "";
            $scope.avatorArray = [];
            $scope.nameArray = [];
            $scope.vm = false;
            $scope.vm1 = false;
            $scope.vm2 = false;
            $scope.vm3 = false;
            $scope.vm4 = false;
            $scope.vm5 = false;
            $scope.dis1 = [];
            $scope.dis2 = [];
            $scope.currUser = 0;
            $scope.firstTime = true;
            $scope.storeKw = "";
            $scope.backArg = false;
            
            $scope.visible40 = false;
            $scope.visible50 = false;
            $scope.visible41 = false;
            $scope.visible51 = false;
            $scope.visible42 = false;
            $scope.visible52 = false;
            $scope.visible43 = false;
            $scope.visible53 = false;
            $scope.visible44 = false;
            $scope.visible54 = false;
        
            $scope.emptyStar = false;
            $scope.solidStar = false;
            
            $scope.progress2 = false;
            $scope.tableView = false;
            
            $scope.postFB = function(){
		      FB.ui({
			     app_id: "443485932666373",
			     method: 'feed',
			     link: 'https://developers.facebook.com/docs/',
			     picture: $scope.postPicture,
			     name: $scope.postName,
			     caption: "FB SEARCH FROM USC CSCI571"
		      }, function(response){
		          if (response && !response.error_message)
                        alert("success");
		          else
                        alert("fail");
		          });
	       }
            
            $scope.fav = function(item){
                if($scope.dis1[item] != "none"){
                    var record = [];
                    record.push($scope.idArray[item]);
                    record.push($scope.avatorArray[item]);
                    record.push($scope.nameArray[item]);
                    record.push("place");
                    sharedService.add_place(record);
                    $scope.dis1[item] = "none";
                    $scope.dis2[item] = "";
                }else{
                    sharedService.delete($scope.idArray[item]);
                    $scope.dis2[item] = "none";
                    $scope.dis1[item] = "";
                }
                
            }
            
            $scope.fav2 = function(){
                if($scope.dis1[$scope.currUser] != "none"){
                    var record = [];
                    record.push($scope.idArray[$scope.currUser]);
                    record.push($scope.avatorArray[$scope.currUser]);
                    record.push($scope.nameArray[$scope.currUser]);
                    record.push("place");
                    sharedService.add_place(record);
                    $scope.dis1[$scope.currUser] = "none";
                    $scope.dis2[$scope.currUser] = "";
                    $scope.emptyStar = false;
                    $scope.solidStar = true;
                }else{
                    sharedService.delete($scope.idArray[$scope.currUser]);
                    $scope.dis2[$scope.currUser] = "none";
                    $scope.dis1[$scope.currUser] = "";
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }
                
            }
            
            $scope.trimTime = function(time){
                //2017-04-05T01:42:00+0000
                var str = "TIME ERROR";
                if(time.length > 20){
                    str = time.substring(0,10);
                    str += " ";
                    str += time.substring(11,19);
                }
                return str;
            }
            
            $scope.showRow = function(i){
                if(i == 0){
                        
                        if($scope.visible40 == true && $scope.visible50 == true){
                            $scope.visible40 = false; 
                            $scope.visible50 = false; 
                        }else{
                            $scope.visible40 = true; 
                            $scope.visible50 = true;
                        }
                }
                
                if(i == 1){
                        if($scope.visible41 == true && $scope.visible51 == true){
                            $scope.visible41 = false; 
                            $scope.visible51 = false; 
                        }else{
                            $scope.visible41 = true; 
                            $scope.visible51 = true;
                        }
                }
                    
                if(i == 2){
                        if($scope.visible42 == true && $scope.visible52 == true){
                            $scope.visible42 = false; 
                            $scope.visible52 = false; 
                        }else{
                            $scope.visible42 = true; 
                            $scope.visible52 = true;
                        }
                }        
                        
                if(i == 3){
                        if($scope.visible43 == true && $scope.visible53 == true){
                            $scope.visible43 = false; 
                            $scope.visible53 = false; 
                        }else{
                            $scope.visible43 = true; 
                            $scope.visible53 = true;
                        }
                }  
                    
                if(i == 4){
                        if($scope.visible44 == true && $scope.visible54 == true){
                            $scope.visible44 = false; 
                            $scope.visible54 = false; 
                        }else{
                            $scope.visible44 = true; 
                            $scope.visible54 = true;
                        }
                }      
            }
            
            $scope.ViewPerson = function(item){
                $scope.progress2 = true;
                $timeout(function () { 
                    $scope.progress2 = false;
                    $scope.tableView = true; 
                }, 2000);
                $scope.postPicture = $scope.avatorArray[item];
                $scope.postName = $scope.nameArray[item];
                if($scope.dis1[item] != "none"){
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }else{
                    $scope.emptyStar = false;
                    $scope.solidStar = true;
                }
                $scope.currUser = item;
                var searchId = $scope.idArray[item];
                $("#myCarousel4").carousel('next');
                $("#myCarousel4").carousel('pause');
                
                //GET ALBUMS
                var url = 'http://sample-env-1.jqkvjigwtu.us-west-2.elasticbeanstalk.com/index.php?searchid='+searchId;
                $http.get(url)
                .success(function (data, status, headers) {
                    if(data == null){
                        $scope.visible1 = true;
                        $scope.visible2 = true;
                    }else{
                        if(data["data"] == null){
                            $scope.visible1 = true;
                        }else{
                            $scope.visible3 = true;
                            var i = 0;
                            angular.forEach(data["data"], function(d){
                                d["i"] = i;
                                d['album_name'] = d['name'];
                                if(d['photos'] != undefined){
                                    if(d['photos']['data'] != undefined){
                                        if(d['photos']['data'][0] != undefined){
                                            if(d['photos']['data'][0]['picture'] != undefined){
                                                $scope.visible4 = true;
                                                d['picture_url1'] = d['photos']['data'][0]['picture'];
                                            }else{
                                            $scope.visible4 = false;
                                            }
                                        }
                                        if(d['photos']['data'][1] != undefined){
                                            if(d['photos']['data'][1]['picture'] != undefined){
                                                $scope.visible5 = true;
                                                d['picture_url2'] = d['photos']['data'][1]['picture'];
                                            }else{
                                                $scope.visible5 = false;
                                            }
                                        }
                                    }
                                }
                                i++;
                            
                          });
                          $scope.show = data["data"];
                        
                       }
                        
                        if(data[0] == null){
                            $scope.visible2 = true;
                        }else{  
                            $scope.vm = true;
                            if(data[0][0]["message"] != undefined){
                                $scope.vm1 = true;
                                $scope.m1 = data[0][0]["message"];
                                $scope.t1 = $scope.trimTime(data[0][0]["created_time"]);
                            }else{
                                $scope.vm1 = false;
                            }
                        
                            if(data[0][1]["message"] != undefined){
                                $scope.vm2 = true;
                                $scope.m2 = data[0][1]["message"];
                                $scope.t2 = $scope.trimTime(data[0][1]["created_time"]);
                            }else{
                                $scope.vm2 = false;
                            }
                        
                            if(data[0][2]["message"] != undefined){
                                $scope.vm3 = true;
                                $scope.m3 = data[0][2]["message"];
                                $scope.t3 = $scope.trimTime(data[0][2]["created_time"]);
                            }else{
                                $scope.vm3 = false;
                            }
                            
                            if(data[0][3]["message"] != undefined){
                                $scope.vm4 = true;
                                $scope.m4 = data[0][3]["message"];
                                $scope.t4 = $scope.trimTime(data[0][3]["created_time"]);
                            }else{
                                $scope.vm4 = false;
                            }
                            
                            if(data[0][4]["message"] != undefined){
                                $scope.vm5 = true;
                                $scope.m5 = data[0][4]["message"];
                                $scope.t5 = $scope.trimTime(data[0][4]["created_time"]);
                            }else{
                                $scope.vm5 = false;
                            }
                            $scope.n1 = $scope.nameArray[item];
                            $scope.purl = $scope.avatorArray[item];
                            
                        }
                        
                    } 
                }).error(function(response){
                    alert("erro!");
                });
                
               
                
            }
            
            $scope.back = function(){
                $scope.backArg = true;
                sharedService.send_keyword($scope.word);
                $("#myCarousel4").carousel('prev');
                $("#myCarousel4").carousel('pause');
                $scope.progress2 = false;
                $scope.tableView = false;
            }
            
            $scope.$on("send_keyword", function(){
                $scope.emptyStar = true;
                $scope.solidStar = false;
                $scope.word = sharedService.keyword;
                if($scope.storeKw != $scope.word || $scope.backArg == true){
                   $scope.firstTime = true;
                   $scope.storeKw = $scope.word;
                   $scope.backArg = false;
                var url = 'http://sample-env-1.jqkvjigwtu.us-west-2.elasticbeanstalk.com/index.php?type=place&keyword='+$scope.word;
                console.log(url);
                $http.get(url)
                .success(function (data, status, headers) {
                  //  console.log(data);
                    var i = 1;
                    $scope.idArray[0] = 0;
                    $scope.avatorArray[0] = 0;
                    $scope.nameArray[0] = 0;
                    angular.forEach(data, function(d){
                        if($scope.firstTime == true){
                            $scope.dis1[i] = "";
                            $scope.dis2[i] = "none";
                        }
                        d["item"] = i;
                        $scope.idArray[i] = d["id"];
                        $scope.nameArray[i] = d["name"];
                        d["user_name"] = d["name"];
                        $scope.avatorArray[i] = d["picture"]["data"]["url"];
                        d["profile_photo"] = d["picture"]["data"]["url"]; 
                        i++;
                    });
                    $scope.firstTime = false;
                    $scope.show = data;
                }).error(function(response){
                    alert("erro!");
                });
                }
            });
            
            $scope.$on("trash_delete",function(){
                var deleteID = sharedService.IDdelByFav;
                var i = 0;
                while(i < $scope.idArray.length){
                    if($scope.idArray[i] != deleteID){
                        i++;
                    }else{
                        break;
                    }    
                }
                if(i < $scope.idArray.length){
                    $scope.dis2[i] = "none";
                    $scope.dis1[i] = "";
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }
            });
        });
        
        app.controller("groupCtl", function($scope, $http, sharedService,$timeout){
            $scope.currentPage1 = 1;
            $scope.fav_list = {};
            $scope.idArray = [];
            $scope.visible1 = false;
            $scope.visible2 = false;
            $scope.visible3 = false;
            $scope.visible4 = false;
            $scope.visible5 = false;
            $scope.visible6 = false;
            $scope.visible7 = false;
            $scope.word = "";
            $scope.avatorArray = [];
            $scope.nameArray = [];
            $scope.vm = false;
            $scope.vm1 = false;
            $scope.vm2 = false;
            $scope.vm3 = false;
            $scope.vm4 = false;
            $scope.vm5 = false;
            $scope.dis1 = [];
            $scope.dis2 = [];
            $scope.currUser = 0;
            $scope.storeKw = "";
            $scope.backArg = false;
            
            $scope.visible40 = false;
            $scope.visible50 = false;
            $scope.visible41 = false;
            $scope.visible51 = false;
            $scope.visible42 = false;
            $scope.visible52 = false;
            $scope.visible43 = false;
            $scope.visible53 = false;
            $scope.visible44 = false;
            $scope.visible54 = false;
            
            $scope.emptyStar = false;
            $scope.solidStar = false;
            
            $scope.progress2 = false;
            $scope.tableView = false;
            
            $scope.postFB = function(){
		      FB.ui({
			     app_id: "443485932666373",
			     method: 'feed',
			     link: 'https://developers.facebook.com/docs/',
			     picture: $scope.postPicture,
			     name: $scope.postName,
			     caption: "FB SEARCH FROM USC CSCI571"
		      }, function(response){
		          if (response && !response.error_message)
                        alert("success");
		          else
                        alert("fail");
		          });
	       }
            
            $scope.fav = function(item){
                if($scope.dis1[item] != "none"){
                    var record = [];
                    record.push($scope.idArray[item]);
                    record.push($scope.avatorArray[item]);
                    record.push($scope.nameArray[item]);
                    record.push("group");
                    sharedService.add_group(record);
                    $scope.dis1[item] = "none";
                    $scope.dis2[item] = "";
                }else{
                    sharedService.delete($scope.idArray[item]);
                    $scope.dis2[item] = "none";
                    $scope.dis1[item] = "";
                }
                
            }
            
            $scope.fav2 = function(){
                if($scope.dis1[$scope.currUser] != "none"){
                    var record = [];
                    record.push($scope.idArray[$scope.currUser]);
                    record.push($scope.avatorArray[$scope.currUser]);
                    record.push($scope.nameArray[$scope.currUser]);
                    record.push("group");
                    sharedService.add_group(record);
                    $scope.dis1[$scope.currUser] = "none";
                    $scope.dis2[$scope.currUser] = "";
                    $scope.emptyStar = false;
                    $scope.solidStar = true;
                }else{
                    sharedService.delete($scope.idArray[$scope.currUser]);
                    $scope.dis2[$scope.currUser] = "none";
                    $scope.dis1[$scope.currUser] = "";
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }
                
            }
            
            $scope.showRow = function(i){
                if(i == 0){
                        
                        if($scope.visible40 == true && $scope.visible50 == true){
                            $scope.visible40 = false; 
                            $scope.visible50 = false; 
                        }else{
                            $scope.visible40 = true; 
                            $scope.visible50 = true;
                        }
                }
                
                if(i == 1){
                        if($scope.visible41 == true && $scope.visible51 == true){
                            $scope.visible41 = false; 
                            $scope.visible51 = false; 
                        }else{
                            $scope.visible41 = true; 
                            $scope.visible51 = true;
                        }
                }
                    
                if(i == 2){
                        if($scope.visible42 == true && $scope.visible52 == true){
                            $scope.visible42 = false; 
                            $scope.visible52 = false; 
                        }else{
                            $scope.visible42 = true; 
                            $scope.visible52 = true;
                        }
                }        
                        
                if(i == 3){
                        if($scope.visible43 == true && $scope.visible53 == true){
                            $scope.visible43 = false; 
                            $scope.visible53 = false; 
                        }else{
                            $scope.visible43 = true; 
                            $scope.visible53 = true;
                        }
                }  
                    
                if(i == 4){
                        if($scope.visible44 == true && $scope.visible54 == true){
                            $scope.visible44 = false; 
                            $scope.visible54 = false; 
                        }else{
                            $scope.visible44 = true; 
                            $scope.visible54 = true;
                        }
                }    
                        
                        
                
            }
            
            $scope.trimTime = function(time){
                //2017-04-05T01:42:00+0000
                var str = "TIME ERROR";
                if(time.length > 20){
                    str = time.substring(0,10);
                    str += " ";
                    str += time.substring(11,19);
                }
                return str;
            }
            
            $scope.ViewPerson = function(item){
                $scope.progress2 = true;
                $timeout(function () { 
                    $scope.progress2 = false;
                    $scope.tableView = true; 
                }, 2000);
                $scope.postPicture = $scope.avatorArray[item];
                $scope.postName = $scope.nameArray[item];
                if($scope.dis1[item] != "none"){
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }else{
                    $scope.emptyStar = false;
                    $scope.solidStar = true;
                }
                $scope.currUser = item;
                var searchId = $scope.idArray[item];
                $("#myCarousel5").carousel('next');
                $("#myCarousel5").carousel('pause');
                
                //GET ALBUMS
                var url = 'http://sample-env-1.jqkvjigwtu.us-west-2.elasticbeanstalk.com/index.php?searchid='+searchId;
                $http.get(url)
                .success(function (data, status, headers) {
                    if(data == null){
                        $scope.visible1 = true;
                        $scope.visible2 = true;
                    }else{
                        if(data["data"] == null){
                            $scope.visible1 = true;
                        }else{
                            $scope.visible3 = true;
                            var i = 0;
                            angular.forEach(data["data"], function(d){
                                d["i"] = i;
                                d['album_name'] = d['name'];
                                if(d['photos'] != undefined){
                                    if(d['photos']['data'] != undefined){
                                        if(d['photos']['data'][0] != undefined){
                                            if(d['photos']['data'][0]['picture'] != undefined){
                                                    $scope.visible4 = true;
                                                    d['picture_url1'] = d['photos']['data'][0]['picture'];
                                            }else{
                                            $scope.visible4 = false;
                                            }
                                        }
                                        if(d['photos']['data'][1] != undefined){
                                            if(d['photos']['data'][1]['picture'] != undefined){
                                                    $scope.visible5 = true;
                                                    d['picture_url2'] = d['photos']['data'][1]['picture'];
                                            }else{
                                                    $scope.visible5 = false;
                                            }
                                        }
                                  }
                                } 
                                i++;
                         });
                        $scope.show = data["data"];
                            
                        if(data[0] == null){
                            $scope.visible2 = true;
                        }else{  
                            $scope.vm = true;
                            if(data[0][0]["message"] != undefined){
                                $scope.vm1 = true;
                                $scope.m1 = data[0][0]["message"];
                                $scope.t1 = $scope.trimTime(data[0][0]["created_time"]);
                            }else{
                                $scope.vm1 = false;
                            }
                        
                            if(data[0][1]["message"] != undefined){
                                $scope.vm2 = true;
                                $scope.m2 = data[0][1]["message"];
                                $scope.t2 = $scope.trimTime(data[0][1]["created_time"]);
                            }else{
                                $scope.vm2 = false;
                            }
                        
                            if(data[0][2]["message"] != undefined){
                                $scope.vm3 = true;
                                $scope.m3 = data[0][2]["message"];
                                $scope.t3 = $scope.trimTime(data[0][2]["created_time"]);
                            }else{
                                $scope.vm3 = false;
                            }
                            
                            if(data[0][3]["message"] != undefined){
                                $scope.vm4 = true;
                                $scope.m4 = data[0][3]["message"];
                                $scope.t4 = $scope.trimTime(data[0][3]["created_time"]);
                            }else{
                                $scope.vm4 = false;
                            }
                            
                            if(data[0][4]["message"] != undefined){
                                $scope.vm5 = true;
                                $scope.m5 = data[0][4]["message"];
                                $scope.t5 = $scope.trimTime(data[0][4]["created_time"]);
                            }else{
                                $scope.vm5 = false;
                            }
                            $scope.n1 = $scope.nameArray[item];
                            $scope.purl = $scope.avatorArray[item];
                            
                        }
                        
                     }     
                   }
                }).error(function(response){
                    alert("erro!");
                });   
            }
            
            $scope.back = function(){
                $scope.backArg = true;
                sharedService.send_keyword($scope.word);
                $("#myCarousel5").carousel('prev');
                $("#myCarousel5").carousel('pause');
                $scope.progress2 = false;
                $scope.tableView = false;
            }
            
            
            $scope.$on("send_keyword", function(){
                $scope.emptyStar = true;
                $scope.solidStar = false;
                $scope.word = sharedService.keyword;
                if($scope.storeKw != $scope.word || $scope.backArg == true){
                   $scope.storeKw = $scope.word;
                   $scope.backArg = false;
              //  console.log("keyword:" + $scope.word);
                var url = 'http://sample-env-1.jqkvjigwtu.us-west-2.elasticbeanstalk.com/index.php?type=group&keyword='+$scope.word;
                //url = 'http://bookerxiao.us-west-2.elasticbeanstalk.com/h8.php?action=Legislator';
                //console.log(url);
                $http.get(url)
                .success(function (data, status, headers) {
                 //   console.log(data);
                    var i = 1;
                    $scope.idArray[0] = 0;
                    $scope.nameArray[0] = 0;
                    $scope.avatorArray[0] = 0;
                    angular.forEach(data, function(d){
                        $scope.dis1[i] = "";
                        $scope.dis2[i] = "none";
                        d["item"] = i;
                        $scope.idArray[i] = d["id"];
                        $scope.nameArray[i] = d["name"];
                        d["user_name"] = d["name"];
                        $scope.avatorArray[i] = d["picture"]["data"]["url"];
                        d["profile_photo"] = d["picture"]["data"]["url"]; 
                        i++;
                    });
                    $scope.show = data;
                  //  console.log($scope.idArray);
                }).error(function(response){
                    alert("erro!");
                });
                }
            });
            
            $scope.$on("trash_delete",function(){
                var deleteID = sharedService.IDdelByFav;
                var i = 0;
                while(i < $scope.idArray.length){
                    if($scope.idArray[i] != deleteID){
                        i++;
                    }else{
                        break;
                    }    
                }
                if(i < $scope.idArray.length){
                    $scope.dis2[i] = "none";
                    $scope.dis1[i] = "";
                    $scope.emptyStar = true;
                    $scope.solidStar = false;
                }
            });
         });
        
        app.controller("favCtl", function($scope, $http, sharedService,$timeout){
            $scope.currentPage1 = 1;
            $scope.currentPage2 = 1;
            $scope.currentPage3 = 1;
            $scope.fav_info = [];
            $scope.idArray = [];
            $scope.nameArray = [];
            $scope.avatorArray = [];
            $scope.i = 0;
            $scope.sortType = ['item'];
            $scope.sortReverse = false;
            $scope.emptyStar = false;
            $scope.solidStar = true;
            
            $scope.vm = false;
            $scope.vm1 = false;
            $scope.vm2 = false;
            $scope.vm3 = false;
            $scope.vm4 = false;
            $scope.vm5 = false;
            
            $scope.visible1 = false;
            $scope.visible2 = false;
            $scope.visible3 = false;
            $scope.visible4 = false;
            $scope.visible5 = false;
            $scope.visible6 = false;
            $scope.visible7 = false;
            
            $scope.visible40 = false;
            $scope.visible50 = false;
            $scope.visible41 = false;
            $scope.visible51 = false;
            $scope.visible42 = false;
            $scope.visible52 = false;
            $scope.visible43 = false;
            $scope.visible53 = false;
            $scope.visible44 = false;
            $scope.visible54 = false;
            
            $scope.progress2 = false;
            $scope.tableView = false;
            
            $scope.currDel = ""; 
            
            $scope.postFB = function(){
		      FB.ui({
			     app_id: "443485932666373",
			     method: 'feed',
			     link: 'https://developers.facebook.com/docs/',
			     picture: $scope.postPicture,
			     name: $scope.postName,
			     caption: "FB SEARCH FROM USC CSCI571"
		      }, function(response){
		          if (response && !response.error_message)
                        alert("success");
		          else
                        alert("fail");
		          });
	       }
            
            
            $scope.showRow = function(i){
                if(i == 0){
                        
                        if($scope.visible40 == true && $scope.visible50 == true){
                            $scope.visible40 = false; 
                            $scope.visible50 = false; 
                        }else{
                            $scope.visible40 = true; 
                            $scope.visible50 = true;
                        }
                }
                
                if(i == 1){
                        if($scope.visible41 == true && $scope.visible51 == true){
                            $scope.visible41 = false; 
                            $scope.visible51 = false; 
                        }else{
                            $scope.visible41 = true; 
                            $scope.visible51 = true;
                        }
                }
                    
                if(i == 2){
                        if($scope.visible42 == true && $scope.visible52 == true){
                            $scope.visible42 = false; 
                            $scope.visible52 = false; 
                        }else{
                            $scope.visible42 = true; 
                            $scope.visible52 = true;
                        }
                }        
                        
                if(i == 3){
                        if($scope.visible43 == true && $scope.visible53 == true){
                            $scope.visible43 = false; 
                            $scope.visible53 = false; 
                        }else{
                            $scope.visible43 = true; 
                            $scope.visible53 = true;
                        }
                }  
                    
                if(i == 4){
                        if($scope.visible44 == true && $scope.visible54 == true){
                            $scope.visible44 = false; 
                            $scope.visible54 = false; 
                        }else{
                            $scope.visible44 = true; 
                            $scope.visible54 = true;
                        }
                }    
                        
                        
                
            }
            
            $scope.back = function(){
                sharedService.freshFav();
                $scope.emptyStar = false;
                $scope.solidStar = true;
                $("#myCarousel6").carousel('prev');
                $("#myCarousel6").carousel('pause');
                $scope.progress2 = false;
                $scope.tableView = false;
            }
            
            $scope.$on("freshFav", function(){
                if($scope.fav_info != null){
                var i = 1;
                $scope.idArray[0] = 0;  
                angular.forEach($scope.fav_info,function(d){
                    $scope.nameArray[i] = d[2];
                    $scope.avatorArray[i] = d[1];
                    d["item"] = i;
                    $scope.idArray[i] = d[0];
                    d["photo"] = d[1];
                    d["name"] = d[2];
                    d["type"] = d[3];
                    i++;
                });
                $scope.show = $scope.fav_info;
                }
            });
            
            $scope.$on("delete", function(){
                var targetId = sharedService.targetId;
                var j = 0;
                $scope.idArray = [];
                while($scope.fav_info[j][0] != null && $scope.fav_info[j][0] != targetId){
                    j++;
                }
                $scope.fav_info.splice(j, 1);
                if($scope.fav_info != null){
                    var i = 1;
                    $scope.idArray[0] = 0;  
                    angular.forEach($scope.fav_info,function(d){
                            $scope.nameArray[i] = d[2];
                            $scope.avatorArray[i] = d[1];
                            d["item"] = i;
                            $scope.idArray[i] = d[0];
                            d["photo"] = d[1];
                            d["name"] = d[2];
                            d["type"] = d[3];  
                        
                        i++;
                        
                });
                $scope.show = $scope.fav_info;
                }
            });
            
            $scope.delete2 = function(item){
                $scope.fav_info.splice((item-1), 1);
                sharedService.trash_delete($scope.idArray[item]);
                if($scope.fav_info != null){
                    var i = 1;
                    $scope.idArray[0] = 0;  
                    angular.forEach($scope.fav_info,function(d){
                            $scope.nameArray[i] = d[2];
                            $scope.avatorArray[i] = d[1];
                            d["item"] = i;
                            $scope.idArray[i] = d[0];
                            d["photo"] = d[1];
                            d["name"] = d[2];
                            d["type"] = d[3];  
                        
                        i++;
                        
                });
                $scope.show = $scope.fav_info;
                }
            }
            
            $scope.trash = function(){
                $scope.emptyStar = true;
                $scope.solidStar = false;
                sharedService.delete($scope.currDel);
                sharedService.trash_delete($scope.currDel);
            }
            
            $scope.trimTime = function(time){
                //2017-04-05T01:42:00+0000
                var str = "TIME ERROR";
                if(time.length > 20){
                    str = time.substring(0,10);
                    str += " ";
                    str += time.substring(11,19);
                }
                return str;
            }
        
            
            $scope.$on("add_user", function(){
                var record = sharedService.record;
                $scope.fav_info.push(record);
                if($scope.fav_info != null){
                var i = 1;
                $scope.idArray[0] = 0;  
                angular.forEach($scope.fav_info,function(d){
                    $scope.nameArray[i] = d[2];
                    $scope.avatorArray[i] = d[1];
                    d["item"] = i;
                    $scope.idArray[i] = d[0];
                    d["photo"] = d[1];
                    d["name"] = d[2];
                    d["type"] = d[3];
                    i++;
                });
                $scope.show = $scope.fav_info;
                }
            });
            
            $scope.$on("add_page", function(){
                var record = sharedService.record;
                $scope.fav_info.push(record);
                if($scope.fav_info != null){
                var i = 1;
                $scope.idArray[0] = 0;  
                angular.forEach($scope.fav_info,function(d){
                    $scope.nameArray[i] = d[2];
                    $scope.avatorArray[i] = d[1];
                    d["item"] = i;
                    $scope.idArray[i] = d[0];
                    d["photo"] = d[1];
                    d["name"] = d[2];
                    d["type"] = d[3];
                    i++;
                });
                $scope.show = $scope.fav_info;
                }
            });
            
            $scope.$on("add_event", function(){
                var record = sharedService.record;
                $scope.fav_info.push(record);
                if($scope.fav_info != null){
                var i = 1;
                $scope.idArray[0] = 0;  
                angular.forEach($scope.fav_info,function(d){
                    $scope.nameArray[i] = d[2];
                    $scope.avatorArray[i] = d[1];
                    d["item"] = i;
                    $scope.idArray[i] = d[0];
                    d["photo"] = d[1];
                    d["name"] = d[2];
                    d["type"] = d[3];
                    i++;
                });
                $scope.show = $scope.fav_info;
                }
            });
            
            $scope.$on("add_place", function(){
                var record = sharedService.record;
                $scope.fav_info.push(record);
                if($scope.fav_info != null){
                var i = 1;
                $scope.idArray[0] = 0;  
                angular.forEach($scope.fav_info,function(d){
                    $scope.nameArray[i] = d[2];
                    $scope.avatorArray[i] = d[1];
                    d["item"] = i;
                    $scope.idArray[i] = d[0];
                    d["photo"] = d[1];
                    d["name"] = d[2];
                    d["type"] = d[3];
                    i++;
                });
                $scope.show = $scope.fav_info;
                }
            });
            
            $scope.$on("add_group", function(){
                var record = sharedService.record;
                $scope.fav_info.push(record);
                if($scope.fav_info != null){
                var i = 1;
                $scope.idArray[0] = 0;  
                angular.forEach($scope.fav_info,function(d){
                    $scope.nameArray[i] = d[2];
                    $scope.avatorArray[i] = d[1];
                    d["item"] = i;
                    $scope.idArray[i] = d[0];
                    d["photo"] = d[1];
                    d["name"] = d[2];
                    d["type"] = d[3];
                    i++;
                });
                $scope.show = $scope.fav_info;
                }
            });
            
            $scope.ViewPerson = function(item){
                $scope.progress2 = true;
                $timeout(function () { 
                    $scope.progress2 = false;
                    $scope.tableView = true; 
                }, 2000);
                $scope.currDel = $scope.idArray[item];
                $scope.postPicture = $scope.avatorArray[item];
                $scope.postName = $scope.nameArray[item];
                var searchId = $scope.idArray[item];
                $("#myCarousel6").carousel('next');
                $("#myCarousel6").carousel('pause');
                var url = 'http://sample-env-1.jqkvjigwtu.us-west-2.elasticbeanstalk.com/index.php?searchid='+$scope.idArray[item];
                $http.get(url)
                .success(function (data, status, headers) {
                   if(data == null){
                        $scope.visible1 = true;
                        $scope.visible2 = true;
                    }else{
                        if(data["data"] == null){
                            $scope.visible1 = true;
                        }else{
                            $scope.visible3 = true;
                            var i = 0;
                            
                            angular.forEach(data["data"], function(d){
                                d['i'] = i;
                                d['album_name'] = d['name'];
                                if(d['photos'] != undefined){
                                    if(d['photos']['data'] != undefined){
                                        if(d['photos']['data'][0] != undefined){
                                            if(d['photos']['data'][0]['picture'] != undefined){
                                                //$scope.visible4 = true;
                                                d['picture_url1'] = d['photos']['data'][0]['picture'];
                                            }else{
                                            $scope.visible4 = false;
                                            }
                                        }
                                        if(d['photos']['data'][1] != undefined){
                                            if(d['photos']['data'][1]['picture'] != undefined){
                                                d['picture_url2'] = d['photos']['data'][1]['picture'];
                                            }else{
                                                $scope.visible5 = false;
                                            }
                                        }
                                   }
                               }
                                i++;
                            
                           });
                            $scope.show = data["data"];
                        
                        }
                        
                        if(data[0] == null){
                            $scope.visible2 = true;
                        }else{         
                            $scope.vm = true;
                            if(data[0][0]["message"] != undefined){
                                $scope.vm1 = true;
                                $scope.m1 = data[0][0]["message"];
                                $scope.t1 = $scope.trimTime(data[0][0]["created_time"]);
                            }else{
                                $scope.vm1 = false;
                            }
                        
                            if(data[0][1]["message"] != undefined){
                                $scope.vm2 = true;
                                $scope.m2 = data[0][1]["message"];
                                $scope.t2 = $scope.trimTime(data[0][1]["created_time"]);
                            }else{
                                $scope.vm2 = false;
                            }
                        
                            if(data[0][2]["message"] != undefined){
                                $scope.vm3 = true;
                                $scope.m3 = data[0][2]["message"];
                                $scope.t3 = $scope.trimTime(data[0][2]["created_time"]);
                            }else{
                                $scope.vm3 = false;
                            }
                            
                            if(data[0][3]["message"] != undefined){
                                $scope.vm4 = true;
                                $scope.m4 = data[0][3]["message"];
                                $scope.t4 = $scope.trimTime(data[0][3]["created_time"]);
                            }else{
                                $scope.vm4 = false;
                            }
                            
                            if(data[0][4]["message"] != undefined){
                                $scope.vm5 = true;
                                $scope.m5 = data[0][4]["message"];
                                $scope.t5 = $scope.trimTime(data[0][4]["created_time"]);
                            }else{
                                $scope.vm5 = false;
                            }
                            $scope.n1 = $scope.nameArray[item];
                            $scope.purl = $scope.avatorArray[item];
                            
                        }
                    }   
                }).error(function(response){
                    alert("erro!");
                });
                
            }
               
        });

    </script>
</html>